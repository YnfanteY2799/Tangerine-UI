{"version":3,"sources":["../src/components/Input/constants.ts","../src/utils/functions.ts","../src/components/Input/sub-components/Labels/InsideLabel.tsx","../src/components/Input/sub-components/Labels/StackedLabel.tsx","../src/components/Input/sub-components/Labels/OutsideLabel.tsx","../src/components/Input/sub-components/Labels/OutsideTopLabel.tsx","../src/components/Input/sub-components/Labels/OutsideLeftLabel.tsx","../src/components/Input/sub-components/Labels/LeftAnimatedLabel.tsx","../src/components/Input/sub-components/RippleContainer.tsx","../src/components/Input/sub-components/CharacterCounter.tsx","../src/components/Input/sub-components/RequirementsList.tsx","../src/components/Input/sub-components/SuggestionsDropdown.tsx","../src/components/Input/sub-components/PasswordStrengthMeter.tsx","../src/components/Input/utils.ts","../src/components/Input/index.tsx","../src/components/Input/hooks.ts","../src/components/Input/reducers.ts","../src/components/Input/error-boundary.tsx","../src/utils/hooks/use-timeout-manager.ts","../src/utils/hooks/use-touch-gestures.ts","../src/utils/hooks/use-history.ts","../src/components/Input/sub-components.tsx","../src/index.ts"],"sourcesContent":["import type { Transition, Variants } from \"motion/react\";\n\n// Animation timing constants\nexport const PASTE_FLASH_DURATION = 500;\nexport const PASTE_FEEDBACK_DURATION = 1500;\nexport const COPY_FEEDBACK_DURATION = 1500;\nexport const BLUR_DELAY = 150;\n\n/**\n * Tailwind CSS class configurations for different input sizes.\n * Provides consistent height, text size, padding, icon dimensions, and gap spacing across size variants.\n *\n * @constant\n *\n * @property {Object} xs - Extra small size (28px height)\n * @property {Object} sm - Small size (32px height)\n * @property {Object} md - Medium size (40px height) - default size\n * @property {Object} lg - Large size (44px height)\n * @property {Object} xl - Extra large size (48px height)\n * @property {Object} 2xl - 2X large size (56px height)\n * @property {Object} 3xl - 3X large size (64px height)\n * @property {Object} 4xl - 4X large size (80px height)\n * @property {Object} full - Full height (100% of container)\n */\nexport const SIZE_STYLES = {\n\txs: { height: \"h-7\", text: \"text-xs\", padding: \"px-2\", iconSize: \"w-3 h-3\", gap: \"gap-1\" },\n\tsm: { height: \"h-8\", text: \"text-sm\", padding: \"px-2.5\", iconSize: \"w-3.5 h-3.5\", gap: \"gap-1.5\" },\n\tmd: { height: \"h-10\", text: \"text-sm\", padding: \"px-3\", iconSize: \"w-4 h-4\", gap: \"gap-2\" },\n\tlg: { height: \"h-11\", text: \"text-base\", padding: \"px-3.5\", iconSize: \"w-4.5 h-4.5\", gap: \"gap-2\" },\n\txl: { height: \"h-12\", text: \"text-base\", padding: \"px-4\", iconSize: \"w-5 h-5\", gap: \"gap-2.5\" },\n\t\"2xl\": { height: \"h-14\", text: \"text-lg\", padding: \"px-4\", iconSize: \"w-5 h-5\", gap: \"gap-2.5\" },\n\t\"3xl\": { height: \"h-16\", text: \"text-xl\", padding: \"px-5\", iconSize: \"w-6 h-6\", gap: \"gap-3\" },\n\t\"4xl\": { height: \"h-20\", text: \"text-2xl\", padding: \"px-6\", iconSize: \"w-7 h-7\", gap: \"gap-3\" },\n\tfull: { height: \"h-full\", text: \"text-base\", padding: \"px-4\", iconSize: \"w-5 h-5\", gap: \"gap-2.5\" },\n};\n\n/**\n * Tailwind CSS border radius utility classes for different rounding levels.\n *\n * @constant\n */\nexport const RADIUS_STYLES = {\n\tnone: \"rounded-none\",\n\txs: \"rounded-xs\",\n\tsm: \"rounded-sm\",\n\tmd: \"rounded-md\",\n\tlg: \"rounded-lg\",\n\txl: \"rounded-xl\",\n\t\"2xl\": \"rounded-2xl\",\n\t\"3xl\": \"rounded-3xl\",\n\tfull: \"rounded-full\",\n};\n\n/**\n * Tailwind CSS shadow utility classes with standard and custom glow effects.\n *\n * @constant\n *\n * @property {string} none - No shadow\n * @property {string} sm - Small shadow\n * @property {string} md - Medium shadow\n * @property {string} lg - Large shadow\n * @property {string} xl - Extra large shadow\n * @property {string} inner - Inner shadow\n * @property {string} glow - Primary color glow effect (15px spread, 30% opacity)\n * @property {string} glow-sm - Small primary color glow (8px spread, 20% opacity)\n * @property {string} glow-lg - Large primary color glow (25px spread, 40% opacity)\n * @property {string} colored - Large shadow with primary color tint\n */\nexport const SHADOW_STYLES = {\n\tnone: \"\",\n\tsm: \"shadow-sm\",\n\tmd: \"shadow-md\",\n\tlg: \"shadow-lg\",\n\txl: \"shadow-xl\",\n\tinner: \"shadow-inner\",\n\tcolored: \"shadow-lg shadow-primary/20\",\n\tglow: \"shadow-[0_0_15px_rgba(var(--primary),0.3)]\",\n\t\"glow-sm\": \"shadow-[0_0_8px_rgba(var(--primary),0.2)]\",\n\t\"glow-lg\": \"shadow-[0_0_25px_rgba(var(--primary),0.4)]\",\n};\n\n/**\n * Spring animation transition with bouncy, natural motion.\n * Ideal for interactive elements and emphasis animations.\n *\n * @constant\n * @type {Transition}\n */\nexport const SPRING_TRANSITION: Transition = { type: \"spring\", stiffness: 300, damping: 25, mass: 0.8 };\n\n/**\n * Smooth tween transition with custom cubic-bezier easing.\n * Provides a polished, controlled animation for state changes.\n *\n * @constant\n * @type {Transition}\n */\nexport const SMOOTH_TRANSITION: Transition = { type: \"tween\", duration: 0.2, ease: [0.32, 0.72, 0, 1] };\n\n/**\n * Responsive spring transition for floating labels.\n * Higher stiffness provides snappier label movement.\n *\n * @constant\n * @type {Transition}\n */\nexport const LABEL_SPRING: Transition = { type: \"spring\", stiffness: 400, damping: 30, mass: 0.8 };\n\n/**\n * Smooth tween transition for floating label animations.\n * Alternative to spring for more controlled label motion.\n *\n * @constant\n * @type {Transition}\n */\nexport const LABEL_EASE: Transition = { type: \"tween\", duration: 0.2, ease: [0.32, 0.72, 0, 1] };\n\n/**\n * Error shake animation with horizontal oscillation and subtle scale changes.\n * Creates an attention-grabbing effect for validation errors.\n *\n * @constant\n */\nexport const SHAKE_ANIMATION = { x: [0, -12, 11, -9, 8, -5, 4, -2, 1, 0], scale: [1, 1.008, 0.995, 1.005, 0.998, 1.002, 1] };\n\n/**\n * Gentle shake animation for long-press feedback.\n * Less intense than error shake, suitable for user interaction confirmation.\n *\n * @constant\n */\nexport const LONG_PRESS_SHAKE_ANIMATION = { x: [0, -6, 5, -4, 3, -2, 1, 0], scale: [1, 1.005, 0.998, 1.002, 1] };\n\n/**\n * Success animation with scale pulse and vertical bounce.\n * Provides positive feedback for successful actions.\n *\n * @constant\n */\nexport const SUCCESS_SHAKE_ANIMATION = { scale: [1, 1.025, 0.985, 1.012, 0.995, 1], y: [0, -3, 1.5, -1, 0] };\n\n/**\n * Timing configuration for long-press shake animation.\n *\n * @constant\n */\nexport const LONG_PRESS_SHAKE_TRANSITION = { duration: 0.4, ease: [0.22, 1, 0.36, 1] };\n\n/**\n * Timing configuration for success shake animation.\n *\n * @constant\n */\nexport const SUCCESS_SHAKE_TRANSITION = { duration: 0.5, ease: [0.22, 1, 0.36, 1] };\n\n/**\n * Timing configuration for error shake animation.\n *\n * @constant\n */\nexport const SHAKE_TRANSITION = { duration: 0.55, ease: [0.22, 1, 0.36, 1] };\n\n/**\n * Background and shadow color configurations for different shake animation types.\n * Provides visual feedback through colored overlays and glows.\n *\n * @constant\n *\n * @property {Object} error - Red color scheme for error states\n * @property {Object} success - Green color scheme for success states\n * @property {Object} longpress - Blue color scheme for long-press interactions\n */\nexport const SHAKE_FLASH_COLORS = {\n\terror: { bg: \"rgba(239, 68, 68, 0.08)\", shadow: \"0 0 0 3px rgba(239, 68, 68, 0.15), 0 0 20px rgba(239, 68, 68, 0.1)\" },\n\tsuccess: { bg: \"rgba(34, 197, 94, 0.06)\", shadow: \"0 0 0 3px rgba(34, 197, 94, 0.12), 0 0 20px rgba(34, 197, 94, 0.08)\" },\n\tlongpress: { bg: \"rgba(59, 130, 246, 0.05)\", shadow: \"0 0 0 2px rgba(59, 130, 246, 0.1), 0 0 15px rgba(59, 130, 246, 0.06)\" },\n};\n\n/**\n * Framer Motion variants for status icon animations (success/error indicators).\n * Controls the appearance and disappearance of status icons with spring physics.\n *\n * @constant\n * @type {Variants}\n */\nexport const STATUS_ICON_VARIANTS: Variants = {\n\tanimate: { opacity: 1, scale: 1, rotate: 0, transition: { type: \"spring\", stiffness: 500, damping: 25 } },\n\texit: { opacity: 0, scale: 0.5, transition: { duration: 0.12 } },\n\tinitial: { opacity: 0, scale: 0.5, rotate: -10 },\n};\n\n/**\n * Framer Motion variants for action buttons (copy, paste, clear, etc.).\n * Defines hover, tap, and success feedback animations.\n *\n * @constant\n * @type {Variants}\n */\nexport const ACTION_BUTTON_VARIANTS: Variants = {\n\tsuccess: { scale: [1, 1.15, 1], transition: { duration: 0.3, ease: [0.25, 0.1, 0.25, 1] } },\n\thover: { scale: 1.08, transition: { type: \"spring\", stiffness: 400, damping: 20 } },\n\ttap: { scale: 0.92, transition: { type: \"spring\", stiffness: 400, damping: 20 } },\n\tinitial: { scale: 1 },\n};\n\n/**\n * Framer Motion variants for ripple effect animations.\n * Creates an expanding, fading circle from the interaction point.\n *\n * @constant\n * @type {Variants}\n */\nexport const RIPPLE_VARIANTS: Variants = {\n\tanimate: { scale: 1, opacity: 0, transition: { duration: 0.7, ease: [0.4, 0, 0.2, 1] } },\n\tinitial: { scale: 0, opacity: 0.4 },\n\texit: { opacity: 0 },\n};\n\n/**\n * Framer Motion variants for paste flash feedback.\n * Brief opacity pulse to indicate successful paste operation.\n *\n * @constant\n * @type {Variants}\n */\nexport const PASTE_FLASH_VARIANTS: Variants = {\n\tanimate: { opacity: [0, 0.15, 0], transition: { duration: 0.4, ease: [0.25, 0.1, 0.25, 1] } },\n\tinitial: { opacity: 0 },\n};\n\n/**\n * Premium spring animation configuration with smooth, natural motion.\n * Used for label transitions that feel polished and responsive.\n *\n * @constant\n */\nexport const PREMIUM_SPRING = { type: \"spring\" as const, stiffness: 380, damping: 28, mass: 0.6 };\n\n/**\n * Fast spring animation configuration with snappier motion.\n * Used for quick label transitions that need immediate feedback.\n *\n * @constant\n */\nexport const FAST_SPRING = { type: \"spring\" as const, stiffness: 450, damping: 32, mass: 0.5 };\n","import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: Array<ClassValue>): string {\r\n\treturn twMerge(clsx(inputs));\r\n}\r\n","import { memo, ReactNode } from \"react\";\r\nimport { LabelProps } from \"../../types\";\r\nimport { m } from \"motion/react\";\r\nimport { cn } from \"../../../../utils/functions\";\r\nimport { PREMIUM_SPRING } from \"../../constants\";\r\n\r\n/**\r\n * Label component that floats inside the input field.\r\n * Animates vertically and scales when the input is focused or has content.\r\n *\r\n * @component\r\n * @param {LabelProps} props - Component props\r\n * @returns {ReactNode} Animated label element positioned inside the input\r\n *\r\n * @remarks\r\n * - Label floats to the top-left when active (floating state)\r\n * - Position adjusts based on leading icons and prefix presence\r\n * - Uses premium spring animation for smooth transitions\r\n * - Respects reduced motion preferences\r\n *\r\n * @example\r\n * <InsideLabel\r\n *   label=\"Email\"\r\n *   htmlFor=\"email-input\"\r\n *   isFloating={hasValue || isFocused}\r\n *   isFocused={isFocused}\r\n *   colorClass=\"text-foreground\"\r\n *   hasLeadingIcon={false}\r\n * />\r\n */\r\nexport default memo(function InsideLabel({\r\n\tlabel,\r\n\thtmlFor,\r\n\thasPrefix,\r\n\tisFloating,\r\n\tcolorClass,\r\n\thasLeadingIcon,\r\n\tshouldReduceMotion,\r\n}: LabelProps): ReactNode {\r\n\tconst leftPosition = hasLeadingIcon ? \"left-10\" : hasPrefix ? \"left-[4.5rem]\" : \"left-3\";\r\n\treturn (\r\n\t\t<m.label\r\n\t\t\tinitial={false}\r\n\t\t\thtmlFor={htmlFor}\r\n\t\t\tid={`${htmlFor}-label`}\r\n\t\t\tanimate={{\r\n\t\t\t\ty: isFloating ? 0 : \"-50%\",\r\n\t\t\t\topacity: isFloating ? 0.9 : 0.7,\r\n\t\t\t\ttop: isFloating ? \"0.25rem\" : \"50%\",\r\n\t\t\t\tfontSize: isFloating ? \"0.7rem\" : \"0.875rem\",\r\n\t\t\t}}\r\n\t\t\tstyle={{ backfaceVisibility: \"hidden\" }}\r\n\t\t\ttransition={shouldReduceMotion ? { duration: 0 } : PREMIUM_SPRING}\r\n\t\t\tclassName={cn(\"absolute pointer-events-none select-none origin-left font-medium\", \"will-change-transform\", leftPosition, colorClass)}>\r\n\t\t\t{label}\r\n\t\t</m.label>\r\n\t);\r\n});\r\n","import { memo, ReactNode } from \"react\";\r\nimport { LabelProps } from \"../../types\";\r\nimport { m } from \"motion/react\";\r\nimport { PREMIUM_SPRING } from \"../../constants\";\r\nimport { cn } from \"../../../../utils/functions\";\r\n\r\n/**\r\n * Label component that stacks above the input value within the input field.\r\n * Reduces size and moves upward when floating, creating a stacked appearance.\r\n *\r\n * @component\r\n * @param {Omit<LabelProps, \"hasLeadingIcon\" | \"isFocused\" | \"hasPrefix\">} props - Component props\r\n * @returns {ReactNode} Animated label element that stacks within the input\r\n *\r\n * @remarks\r\n * - Label shrinks and stacks above the value when input has content\r\n * - Animates size, opacity, and vertical position\r\n * - Uses premium spring animation for smooth transitions\r\n * - Respects reduced motion preferences\r\n *\r\n * @example\r\n * <StackedLabel\r\n *   label=\"Description\"\r\n *   htmlFor=\"description-input\"\r\n *   isFloating={hasValue}\r\n *   colorClass=\"text-muted-foreground\"\r\n * />\r\n */\r\nexport default memo(function StackedLabel({\r\n\tlabel,\r\n\thtmlFor,\r\n\tisFloating,\r\n\tcolorClass,\r\n\tshouldReduceMotion,\r\n}: Omit<LabelProps, \"hasLeadingIcon\" | \"isFocused\" | \"hasPrefix\">): ReactNode {\r\n\treturn (\r\n\t\t<m.label\r\n\t\t\tanimate={{\r\n\t\t\t\tfontSize: isFloating ? \"0.7rem\" : \"0.875rem\",\r\n\t\t\t\tmarginBottom: isFloating ? 2 : 0,\r\n\t\t\t\topacity: isFloating ? 0.85 : 0.7,\r\n\t\t\t\ty: isFloating ? 0 : 6,\r\n\t\t\t}}\r\n\t\t\tinitial={false}\r\n\t\t\thtmlFor={htmlFor}\r\n\t\t\tid={`${htmlFor}-label`}\r\n\t\t\tstyle={{ backfaceVisibility: \"hidden\" }}\r\n\t\t\ttransition={shouldReduceMotion ? { duration: 0 } : PREMIUM_SPRING}\r\n\t\t\tclassName={cn(\"origin-left font-medium pointer-events-none select-none will-change-transform\", colorClass)}>\r\n\t\t\t{label}\r\n\t\t</m.label>\r\n\t);\r\n});\r\n","import { memo, ReactNode } from \"react\";\r\nimport { LabelProps } from \"../../types\";\r\nimport { cn } from \"../../../../utils/functions\";\r\nimport { m } from \"motion/react\";\r\nimport { PREMIUM_SPRING } from \"../../constants\";\r\n\r\n/**\r\n * Label component that positions outside the input field border.\r\n * Floats to the top-left outside the input when active, sits inside when inactive.\r\n *\r\n * @component\r\n * @param {LabelProps} props - Component props\r\n * @returns {ReactNode} Animated label element that transitions between inside and outside positions\r\n *\r\n * @remarks\r\n * - Automatically floats outside when input has a prefix\r\n * - Animates position, size, and opacity during state changes\r\n * - Uses premium spring animation for smooth transitions\r\n * - Position adjusts based on leading icons\r\n *\r\n * @example\r\n * <OutsideLabel\r\n *   label=\"Username\"\r\n *   htmlFor=\"username-input\"\r\n *   isFloating={hasValue || isFocused}\r\n *   isFocused={isFocused}\r\n *   colorClass=\"text-primary\"\r\n * />\r\n */\r\nexport default memo(function OutsideLabel({\r\n\tlabel,\r\n\thtmlFor,\r\n\tisFloating,\r\n\tcolorClass,\r\n\thasLeadingIcon,\r\n\thasPrefix,\r\n\tshouldReduceMotion,\r\n}: LabelProps): ReactNode {\r\n\t// If there's a prefix, label should always be floating (outside)\r\n\tconst shouldFloat = isFloating || hasPrefix;\r\n\r\n\treturn (\r\n\t\t<m.label\r\n\t\t\thtmlFor={htmlFor}\r\n\t\t\tid={`${htmlFor}-label`}\r\n\t\t\tclassName={cn(\r\n\t\t\t\t\"absolute pointer-events-none select-none font-medium z-10 will-change-transform backface-hidden\",\r\n\t\t\t\thasLeadingIcon ? \"left-10\" : \"left-3\",\r\n\t\t\t\tcolorClass\r\n\t\t\t)}\r\n\t\t\tinitial={false}\r\n\t\t\tanimate={{\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tx: shouldFloat ? -12 : 0,\r\n\t\t\t\ty: shouldFloat ? 0 : \"-50%\",\r\n\t\t\t\ttop: shouldFloat ? \"-1.75rem\" : \"50%\",\r\n\t\t\t\tfontSize: shouldFloat ? \"0.8rem\" : \"0.875rem\",\r\n\t\t\t}}\r\n\t\t\ttransition={shouldReduceMotion ? { duration: 0 } : PREMIUM_SPRING}>\r\n\t\t\t{label}\r\n\t\t</m.label>\r\n\t);\r\n});\r\n","import { memo, ReactNode } from \"react\";\r\nimport { LabelProps } from \"../../types\";\r\nimport { FAST_SPRING } from \"../../constants\";\r\nimport { m } from \"motion/react\";\r\nimport { cn } from \"../../../../utils/functions\";\r\n\r\n/**\r\n * Label component positioned above the input field with subtle vertical animation.\r\n * Always visible and doesn't float - provides a traditional form label experience.\r\n *\r\n * @component\r\n * @param {Omit<LabelProps, \"isFloating\" | \"hasLeadingIcon\" | \"hasPrefix\">} props - Component props\r\n * @returns {ReactNode} Static label element above the input\r\n *\r\n * @remarks\r\n * - Label has a subtle upward motion when input is focused\r\n * - Uses fast spring for quick, responsive feedback\r\n * - Respects reduced motion preferences\r\n * - Always visible regardless of input state\r\n *\r\n * @example\r\n * <OutsideTopLabel\r\n *   label=\"Password\"\r\n *   htmlFor=\"password-input\"\r\n *   isFocused={isFocused}\r\n *   colorClass=\"text-foreground\"\r\n * />\r\n */\r\nexport default memo(function OutsideTopLabel({\r\n\tlabel,\r\n\thtmlFor,\r\n\tisFocused,\r\n\tcolorClass,\r\n\tshouldReduceMotion,\r\n}: Omit<LabelProps, \"isFloating\" | \"hasLeadingIcon\" | \"hasPrefix\">): ReactNode {\r\n\treturn (\r\n\t\t<m.label\r\n\t\t\tinitial={false}\r\n\t\t\thtmlFor={htmlFor}\r\n\t\t\tid={`${htmlFor}-label`}\r\n\t\t\tanimate={{ y: isFocused ? -1 : 0 }}\r\n\t\t\tstyle={{ backfaceVisibility: \"hidden\" }}\r\n\t\t\ttransition={shouldReduceMotion ? { duration: 0 } : FAST_SPRING}\r\n\t\t\tclassName={cn(\"block font-medium mb-1.5 will-change-transform text-sm\", colorClass)}>\r\n\t\t\t{label}\r\n\t\t</m.label>\r\n\t);\r\n});\r\n","import { memo, ReactNode } from \"react\";\r\nimport { LabelProps } from \"../../types\";\r\nimport { m } from \"motion/react\";\r\nimport { cn } from \"../../../../utils/functions\";\r\n\r\n/**\r\n * Label component positioned to the left of the input field.\r\n * Changes color on focus with a smooth transition.\r\n *\r\n * @component\r\n * @param {Omit<LabelProps, \"isFloating\" | \"hasLeadingIcon\" | \"hasPrefix\">} props - Component props\r\n * @returns {ReactNode} Static label element to the left of the input\r\n *\r\n * @remarks\r\n * - Label changes to primary color when input is focused\r\n * - Uses horizontal layout (label and input side-by-side)\r\n * - Prevents wrapping with whitespace-nowrap\r\n * - Simple color transition without complex animations\r\n *\r\n * @example\r\n * <div className=\"flex items-center gap-3\">\r\n *   <OutsideLeftLabel\r\n *     label=\"Amount\"\r\n *     htmlFor=\"amount-input\"\r\n *     isFocused={isFocused}\r\n *     colorClass=\"text-foreground\"\r\n *   />\r\n *   <input id=\"amount-input\" />\r\n * </div>\r\n */\r\nexport default memo(function OutsideLeftLabel({\r\n\tlabel,\r\n\thtmlFor,\r\n\tisFocused,\r\n\tcolorClass,\r\n}: Omit<LabelProps, \"isFloating\" | \"hasLeadingIcon\" | \"hasPrefix\">): ReactNode {\r\n\treturn (\r\n\t\t<m.label\r\n\t\t\thtmlFor={htmlFor}\r\n\t\t\tid={`${htmlFor}-label`}\r\n\t\t\ttransition={{ duration: 0.15 }}\r\n\t\t\tanimate={{ color: isFocused ? \"hsl(var(--primary))\" : undefined }}\r\n\t\t\tclassName={cn(\"font-medium whitespace-nowrap shrink-0 text-sm\", colorClass)}>\r\n\t\t\t{label}\r\n\t\t</m.label>\r\n\t);\r\n});\r\n","\"use client\";\nimport { m, AnimatePresence } from \"motion/react\";\nimport { cn } from \"../../../../utils/functions\";\nimport { type ReactNode, memo } from \"react\";\nimport { FAST_SPRING } from \"../../constants\";\n\nimport type { LabelProps } from \"../../types\";\n\n/**\n * Props for the LeftAnimatedLabel component.\n * Extends base label props with additional placeholder control.\n *\n * @interface LeftAnimatedLabelProps\n * @extends {Omit<LabelProps, \"hasLeadingIcon\" | \"hasPrefix\">}\n * @property {boolean} showPlaceholder - Whether to show the ghost placeholder inside the input\n */\ninterface LeftAnimatedLabelProps extends Omit<LabelProps, \"hasLeadingIcon\" | \"hasPrefix\"> {\n\tshowPlaceholder: boolean;\n}\n\n/**\n * Advanced label component that slides from inside the input to the left when activated.\n * Features a dual-display system with an external label and internal ghost placeholder.\n *\n * @component\n * @param {LeftAnimatedLabelProps} props - Component props\n * @returns {ReactNode} Complex animated label system with sliding and fading effects\n *\n * @remarks\n * - Label slides out to the left when input is focused or has content\n * - Ghost placeholder appears inside input when label is hidden (not floating)\n * - Uses fast spring animation for responsive transitions\n * - Ghost placeholder fades and slides out when label appears\n * - Respects reduced motion preferences\n *\n * @example\n * <div className=\"flex items-center\">\n *   <LeftAnimatedLabel\n *     label=\"Search\"\n *     htmlFor=\"search-input\"\n *     isFloating={hasValue || isFocused}\n *     isFocused={isFocused}\n *     showPlaceholder={!hasValue && !isFocused}\n *     colorClass=\"text-foreground\"\n *   />\n *   <input id=\"search-input\" />\n * </div>\n */\nexport default memo(function LeftAnimatedLabel({\n\tlabel,\n\thtmlFor,\n\tisFloating,\n\tcolorClass,\n\tshowPlaceholder,\n\tshouldReduceMotion,\n}: LeftAnimatedLabelProps): ReactNode {\n\tconst transition = shouldReduceMotion ? { duration: 0 } : FAST_SPRING;\n\n\treturn (\n\t\t<>\n\t\t\t{/* Animated label container that slides out */}\n\t\t\t<m.div\n\t\t\t\tinitial={false}\n\t\t\t\ttransition={transition}\n\t\t\t\tclassName=\"overflow-hidden shrink-0\"\n\t\t\t\tanimate={{ width: isFloating ? \"auto\" : 0, marginRight: isFloating ? 12 : 0, opacity: isFloating ? 1 : 0 }}>\n\t\t\t\t<m.label\n\t\t\t\t\tinitial={false}\n\t\t\t\t\thtmlFor={htmlFor}\n\t\t\t\t\tid={`${htmlFor}-label`}\n\t\t\t\t\ttransition={transition}\n\t\t\t\t\tanimate={{ x: isFloating ? 0 : 8 }}\n\t\t\t\t\tclassName={cn(\"font-medium whitespace-nowrap block text-sm\", colorClass)}>\n\t\t\t\t\t{label}\n\t\t\t\t</m.label>\n\t\t\t</m.div>\n\n\t\t\t{/* Ghost label inside input when not floating */}\n\t\t\t<AnimatePresence>\n\t\t\t\t{showPlaceholder && (\n\t\t\t\t\t<m.span\n\t\t\t\t\t\tinitial={{ opacity: 0 }}\n\t\t\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\t\t\texit={{ opacity: 0, x: -6, transition: { duration: 0.12 } }}\n\t\t\t\t\t\tclassName=\"absolute inset-0 flex items-center text-muted-foreground/60 pointer-events-none select-none pl-3 text-sm\">\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</m.span>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t</>\n\t);\n});\n","import { AnimatePresence, m } from \"motion/react\";\r\nimport { RIPPLE_VARIANTS } from \"../constants\";\r\nimport { type ReactNode, memo } from \"react\";\r\n\r\nimport type { IRippleContainerProps } from \"../types\";\r\n\r\n/**\r\n * Container component that manages and renders ripple click effects\r\n * @component\r\n * @param {IRippleContainerProps} props - Component props\r\n * @returns {ReactNode} Animated ripple effects overlay\r\n * @example\r\n * <RippleContainer\r\n *   ripples={[{id: 1, x: 50, y: 50, size: 100}]}\r\n *   onComplete={(id) => console.log('Ripple', id, 'completed')}\r\n * />\r\n */\r\nexport default memo(function RippleContainer({ ripples, onComplete }: IRippleContainerProps): ReactNode {\r\n\treturn (\r\n\t\t<span className=\"absolute inset-0 overflow-hidden rounded-[inherit] pointer-events-none\">\r\n\t\t\t<AnimatePresence mode=\"popLayout\">\r\n\t\t\t\t{ripples.map(({ id, y, x, size }) => (\r\n\t\t\t\t\t<m.span\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\texit=\"exit\"\r\n\t\t\t\t\t\tanimate=\"animate\"\r\n\t\t\t\t\t\tinitial=\"initial\"\r\n\t\t\t\t\t\tvariants={RIPPLE_VARIANTS}\r\n\t\t\t\t\t\tonAnimationComplete={() => onComplete(id)}\r\n\t\t\t\t\t\tclassName=\"absolute rounded-full bg-primary/10 pointer-events-none\"\r\n\t\t\t\t\t\tstyle={{ x: \"-50%\", y: \"-50%\", top: y, left: x, width: size, height: size, willChange: \"transform, opacity\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</AnimatePresence>\r\n\t\t</span>\r\n\t);\r\n});\r\n","import { cn } from \"../../../utils/functions\";\r\nimport { type ReactNode, memo } from \"react\";\r\nimport { m } from \"motion/react\";\r\n\r\nimport { ICharacterCountProps } from \"../types\";\r\n\r\n/**\r\n * Character counter with color-coded states based on limit proximity\r\n * @component\r\n * @param {ICharacterCountProps} props - Component props\r\n * @returns {ReactNode} Animated character count display\r\n * @example\r\n * <CharacterCounter current={45} max={50} limit=\"soft\" />\r\n */\r\nexport default memo(function CharacterCounter({ current, max, limit }: ICharacterCountProps): ReactNode {\r\n\tconst isOverLimit = current > max;\r\n\tconst isNearLimit = current > max * 0.8;\r\n\treturn (\r\n\t\t<m.span\r\n\t\t\tclassName={cn(\r\n\t\t\t\t\"text-xs tabular-nums transition-colors\",\r\n\t\t\t\tisOverLimit ? \"text-red-500 font-medium\" : isNearLimit ? \"text-amber-500\" : \"text-muted-foreground\"\r\n\t\t\t)}\r\n\t\t\ttransition={{ duration: 0.15 }}\r\n\t\t\tanimate={isOverLimit ? { scale: [1, 1.1, 1] } : {}}>\r\n\t\t\t{current}/{max}\r\n\t\t\t{limit === \"soft\" && isOverLimit && \" (soft limit)\"}\r\n\t\t</m.span>\r\n\t);\r\n});\r\n","import { cn } from \"../../../utils/functions\";\r\nimport { memo, ReactNode } from \"react\";\r\nimport { m } from \"motion/react\";\r\n\r\nimport type { IRequirementsListProps } from \"../types\";\r\n\r\n/**\r\n * List of password requirements with visual indicators for met/unmet criteria\r\n * @component\r\n * @param {IRequirementsListProps} props - Component props\r\n * @returns {ReactNode} Animated list of requirement items\r\n * @example\r\n * <RequirementsList\r\n *   requirements={[\r\n *     {label: \"8+ characters\", validator: (val) => val.length >= 8}\r\n *   ]}\r\n *   value=\"myPassword\"\r\n * />\r\n */\r\nexport default memo(function RequirementsList({ requirements, value }: IRequirementsListProps): ReactNode {\r\n\treturn (\r\n\t\t<ul className=\"mt-2 space-y-1\" role=\"list\" aria-label=\"Password requirements\">\r\n\t\t\t{requirements.map(({ validator, label }, i) => {\r\n\t\t\t\tconst met = validator(value);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<m.li\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tanimate={{ opacity: 1, x: 0 }}\r\n\t\t\t\t\t\tinitial={{ opacity: 0, x: -8 }}\r\n\t\t\t\t\t\ttransition={{ delay: i * 0.03 }}\r\n\t\t\t\t\t\taria-label={`${label}: ${met ? \"met\" : \"not met\"}`}\r\n\t\t\t\t\t\tclassName={cn(\"text-xs flex items-center gap-2 transition-colors\", met ? \"text-green-500\" : \"text-muted-foreground\")}>\r\n\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\tclassName={cn(\"w-1.5 h-1.5 rounded-full\", met ? \"bg-green-500\" : \"bg-muted-foreground/50\")}\r\n\t\t\t\t\t\t\tanimate={{ scale: met ? [1, 1.3, 1] : 1 }}\r\n\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</m.li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t);\r\n});\r\n","import { cn } from \"../../../utils/functions\";\r\nimport { type ReactNode, memo } from \"react\";\r\nimport { m } from \"motion/react\";\r\n\r\nimport type { ISuggestionsDropdownProps } from \"../types\";\r\n\r\n/**\r\n * Dropdown menu displaying autocomplete suggestions with keyboard navigation\r\n * @component\r\n * @param {ISuggestionsDropdownProps} props - Component props\r\n * @returns {ReactNode | null} Animated dropdown list or null when closed\r\n * @example\r\n * <SuggestionsDropdown\r\n *   suggestions={[{value: \"option1\", label: \"Option 1\", icon: <Icon />}]}\r\n *   activeIndex={0}\r\n *   isOpen={true}\r\n *   onSelect={(suggestion) => console.log(suggestion)}\r\n * />\r\n */\r\nexport default memo(function SuggestionsDropdown({ suggestions, activeIndex, onSelect, inputId, isOpen }: ISuggestionsDropdownProps): ReactNode {\r\n\tif (!isOpen || suggestions.length === 0) return null;\r\n\r\n\treturn (\r\n\t\t<m.ul\r\n\t\t\trole=\"listbox\"\r\n\t\t\tstyle={{ originY: 0 }}\r\n\t\t\taria-label=\"Suggestions\"\r\n\t\t\tanimate={{ opacity: 1, y: 0, scale: 1 }}\r\n\t\t\texit={{ opacity: 0, y: -4, scale: 0.98 }}\r\n\t\t\tinitial={{ opacity: 0, y: -4, scale: 0.98 }}\r\n\t\t\tid={inputId ? `${inputId}-listbox` : undefined}\r\n\t\t\ttransition={{ duration: 0.12, ease: [0.32, 0.72, 0, 1] }}\r\n\t\t\tclassName=\"absolute z-50 w-full mt-1 bg-popover border rounded-lg shadow-lg overflow-hidden\">\r\n\t\t\t{suggestions.map((suggestion, i) => (\r\n\t\t\t\t<m.li\r\n\t\t\t\t\trole=\"option\"\r\n\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\"px-3 py-2 cursor-pointer flex items-center gap-2 transition-colors\",\r\n\t\t\t\t\t\ti === activeIndex ? \"bg-accent text-accent-foreground\" : \"hover:bg-accent/50\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tkey={suggestion.value}\r\n\t\t\t\t\tanimate={{ opacity: 1, x: 0 }}\r\n\t\t\t\t\tinitial={{ opacity: 0, x: -4 }}\r\n\t\t\t\t\ttransition={{ delay: i * 0.02 }}\r\n\t\t\t\t\taria-selected={i === activeIndex}\r\n\t\t\t\t\tonMouseDown={(e) => {\r\n\t\t\t\t\t\t// Prevent input blur when clicking suggestion\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClick={() => onSelect(suggestion)}\r\n\t\t\t\t\tid={inputId ? `${inputId}-option-${i}` : undefined}>\r\n\t\t\t\t\t{suggestion.icon}\r\n\t\t\t\t\t<span>{suggestion.label || suggestion.value}</span>\r\n\t\t\t\t</m.li>\r\n\t\t\t))}\r\n\t\t</m.ul>\r\n\t);\r\n});\r\n","import { cn } from \"../../../utils/functions\";\r\nimport { type ReactNode, memo } from \"react\";\r\nimport { m } from \"motion/react\";\r\n\r\n/**\r\n * Visual indicator showing password strength with colored bars and label\r\n * @component\r\n * @param {Object} props - Component props\r\n * @param {number} props.strength - Password strength level (0-4)\r\n * @returns {ReactNode} Animated strength meter with bars and label\r\n * @example\r\n * <PasswordStrengthMeter strength={2} />\r\n */\r\nexport default memo(function PasswordStrengthMeter({ strength }: { strength: number }): ReactNode {\r\n\tconst colors = [\"bg-red-500\", \"bg-orange-500\", \"bg-amber-500\", \"bg-lime-500\", \"bg-green-500\"];\r\n\tconst labels = [\"Very weak\", \"Weak\", \"Fair\", \"Strong\", \"Very strong\"];\r\n\r\n\treturn (\r\n\t\t<div className=\"mt-2 space-y-1.5\">\r\n\t\t\t<div className=\"flex gap-1 h-1.5\">\r\n\t\t\t\t{[0, 1, 2, 3].map((i) => (\r\n\t\t\t\t\t<m.div\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tclassName={cn(\"flex-1 rounded-full\", i <= strength ? colors[strength] : \"bg-muted\")}\r\n\t\t\t\t\t\ttransition={{ duration: 0.2, delay: i * 0.03, ease: [0.32, 0.72, 0, 1] }}\r\n\t\t\t\t\t\tinitial={{ scaleX: 0 }}\r\n\t\t\t\t\t\tanimate={{ scaleX: 1 }}\r\n\t\t\t\t\t\tstyle={{ originX: 0 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<m.p\r\n\t\t\t\tclassName={cn(\"text-xs font-medium\", colors[strength].replace(\"bg-\", \"text-\"))}\r\n\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\tkey={strength}>\r\n\t\t\t\t{labels[strength]}\r\n\t\t\t</m.p>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import type { PhoneFormat } from \"./types\";\n\n/**\n * Formats a phone number in US format: (123) 456-7890\n * @param value - The input string to format\n * @returns Formatted US phone number string (max 10 digits)\n * @example formatPhoneUS(\"1234567890\") // \"(123) 456-7890\"\n */\nexport function formatPhoneUS(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 10);\n\tconst len = digits.length;\n\tif (len === 0) return \"\";\n\tif (len <= 3) return `(${digits}`;\n\tif (len <= 6) return `(${digits.slice(0, 3)}) ${digits.slice(3)}`;\n\treturn `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;\n}\n\n/**\n * Formats a phone number in UK format: 0123 456 7890\n * @param value - The input string to format\n * @returns Formatted UK phone number string (max 11 digits)\n * @example formatPhoneUK(\"01234567890\") // \"0123 456 7890\"\n */\nexport function formatPhoneUK(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 11);\n\tconst len = digits.length;\n\tif (len === 0) return \"\";\n\tif (len <= 4) return digits;\n\tif (len <= 7) return `${digits.slice(0, 4)} ${digits.slice(4)}`;\n\treturn `${digits.slice(0, 4)} ${digits.slice(4, 7)} ${digits.slice(7)}`;\n}\n\n/**\n * Formats a phone number in EU format: +12 345 678 9012\n * @param value - The input string to format\n * @returns Formatted EU phone number string (max 12 digits)\n * @example formatPhoneEU(\"123456789012\") // \"+12 345 678 9012\"\n */\nexport function formatPhoneEU(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 12);\n\tconst len = digits.length;\n\tif (len === 0) return \"\";\n\tif (len <= 2) return `+${digits}`;\n\tif (len <= 5) return `+${digits.slice(0, 2)} ${digits.slice(2)}`;\n\tif (len <= 8) return `+${digits.slice(0, 2)} ${digits.slice(2, 5)} ${digits.slice(5)}`;\n\treturn `+${digits.slice(0, 2)} ${digits.slice(2, 5)} ${digits.slice(5, 8)} ${digits.slice(8)}`;\n}\n\n/**\n * Formats a phone number in international format: +123 456 7890 1234\n * @param value - The input string to format\n * @returns Formatted international phone number string (max 15 digits)\n * @example formatPhoneInternational(\"123456789012345\") // \"+123 456 7890 1234\"\n */\nexport function formatPhoneInternational(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 15);\n\tconst len = digits.length;\n\tif (len === 0) return \"\";\n\tif (len <= 3) return `+${digits}`;\n\tif (len <= 6) return `+${digits.slice(0, 3)} ${digits.slice(3)}`;\n\tif (len <= 10) return `+${digits.slice(0, 3)} ${digits.slice(3, 6)} ${digits.slice(6)}`;\n\treturn `+${digits.slice(0, 3)} ${digits.slice(3, 6)} ${digits.slice(6, 10)} ${digits.slice(10)}`;\n}\n\n/**\n * Formats a phone number according to the specified format type\n * @param value - The input string to format\n * @param format - The phone format type (defaults to \"US\")\n * @param customFormat - Custom format string (only used when format is \"custom\")\n * @returns Formatted phone number string\n * @example formatPhone(\"1234567890\", \"US\") // \"(123) 456-7890\"\n * @example formatPhone(\"1234567890\", \"custom\", \"(###) ###-####\") // \"(123) 456-7890\"\n */\nexport function formatPhone(value: string, format: PhoneFormat = \"US\", customFormat?: string): string {\n\tswitch (format) {\n\t\tcase \"UK\":\n\t\t\treturn formatPhoneUK(value);\n\t\tcase \"EU\":\n\t\t\treturn formatPhoneEU(value);\n\t\tcase \"international\":\n\t\t\treturn formatPhoneInternational(value);\n\t\tcase \"custom\":\n\t\t\treturn customFormat ? applyCustomPhoneFormat(value, customFormat) : formatPhoneUS(value);\n\t\tcase \"US\":\n\t\tdefault:\n\t\t\treturn formatPhoneUS(value);\n\t}\n}\n\n/**\n * Applies a custom format pattern to phone number digits\n * @param value - The input string to format\n * @param format - Format pattern string where '#' represents a digit placeholder\n * @returns Formatted string according to custom pattern\n * @example applyCustomPhoneFormat(\"1234567890\", \"(###) ###-####\") // \"(123) 456-7890\"\n */\nfunction applyCustomPhoneFormat(value: string, format: string): string {\n\tconst digits = value.replace(/\\D/g, \"\");\n\tlet result = \"\";\n\tlet digitIndex = 0;\n\tconst formatLen = format.length;\n\tconst digitsLen = digits.length;\n\n\tfor (let i = 0; i < formatLen && digitIndex < digitsLen; i++) {\n\t\tconst char = format[i];\n\t\tif (char === \"#\") {\n\t\t\tresult += digits[digitIndex++];\n\t\t} else {\n\t\t\tresult += char;\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * Formats a credit card number with spaces every 4 digits: 1234 5678 9012 3456\n * @param value - The input string to format\n * @returns Formatted credit card number string (max 16 digits)\n * @example formatCreditCard(\"1234567890123456\") // \"1234 5678 9012 3456\"\n */\nexport function formatCreditCard(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 16);\n\treturn digits.replace(/(.{4})/g, \"$1 \").trim();\n}\n\n/**\n * Formats a date string in MM/DD/YYYY format\n * @param value - The input string to format\n * @returns Formatted date string (max 8 digits)\n * @example formatDate(\"12252024\") // \"12/25/2024\"\n */\nexport function formatDate(value: string): string {\n\tconst digits = value.replace(/\\D/g, \"\").slice(0, 8);\n\tconst len = digits.length;\n\tif (len === 0) return \"\";\n\tif (len <= 2) return digits;\n\tif (len <= 4) return `${digits.slice(0, 2)}/${digits.slice(2)}`;\n\treturn `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4)}`;\n}\n\n/**\n * Formats a number as currency with thousands separators and optional symbol\n * @param value - The input string to format\n * @param symbol - Currency symbol to prepend (defaults to \"$\")\n * @returns Formatted currency string with symbol and thousands separators\n * @example formatCurrency(\"1234.56\") // \"$1,234.56\"\n * @example formatCurrency(\"1234.56\", \"â‚¬\") // \"â‚¬1,234.56\"\n */\nexport function formatCurrency(value: string, symbol = \"$\"): string {\n\tconst digits = value.replace(/[^\\d.]/g, \"\");\n\tconst dotIndex = digits.indexOf(\".\");\n\tconst hasDot = dotIndex !== -1;\n\tconst intPart = hasDot ? digits.slice(0, dotIndex) : digits;\n\tconst decPart = hasDot ? digits.slice(dotIndex + 1, dotIndex + 3) : \"\";\n\n\tif (!intPart && !decPart) return \"\";\n\n\tconst formatted = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\treturn hasDot ? `${symbol}${formatted}.${decPart}` : `${symbol}${formatted}`;\n}\n\n/**\n * Calculates password strength score based on length and character variety\n * @param password - The password string to evaluate\n * @returns Strength score from 0 (weakest) to 4 (strongest)\n * @example calculatePasswordStrength(\"abc\") // 0\n * @example calculatePasswordStrength(\"Abc123!@#xyz\") // 4\n */\nexport function calculatePasswordStrength(password: string): number {\n\tlet strength = 0;\n\tconst len = password.length;\n\n\tif (len >= 8) strength++;\n\tif (len >= 12) strength++;\n\tif (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;\n\tif (/\\d/.test(password)) strength++;\n\tif (/[^a-zA-Z0-9]/.test(password)) strength++;\n\n\treturn Math.min(4, strength);\n}\n\n/**\n * Extracts raw unformatted value from a formatted string\n * @param value - The formatted string\n * @param format - The format type of the input\n * @returns Raw unformatted value\n * @example getRawValue(\"(123) 456-7890\", \"phone\") // \"1234567890\"\n * @example getRawValue(\"$1,234.56\", \"currency\") // \"1234.56\"\n */\nexport function getRawValue(value: string, format: string): string {\n\tswitch (format) {\n\t\tcase \"phone\":\n\t\tcase \"creditCard\":\n\t\tcase \"date\":\n\t\t\treturn value.replace(/\\D/g, \"\");\n\t\tcase \"currency\":\n\t\t\treturn value.replace(/[^\\d.]/g, \"\");\n\t\tdefault:\n\t\t\treturn value;\n\t}\n}\n\n/**\n * Detects the format type of a pasted value using pattern matching\n * @param value - The input string to analyze\n * @returns Object with detected format and raw value, or null if no format detected\n * @example detectPasteFormat(\"(123) 456-7890\") // { format: \"phone\", formattedValue: \"1234567890\" }\n */\nexport function detectPasteFormat(value: string): { format: string; formattedValue: string } | null {\n\tconst digitsOnly = value.replace(/\\D/g, \"\");\n\tconst digitsLen = digitsOnly.length;\n\n\t// Phone number patterns (10-15 digits)\n\tif (digitsLen >= 10 && digitsLen <= 15 && /^[\\d\\s\\-()+ ]{10,}$/.test(value)) return { format: \"phone\", formattedValue: digitsOnly };\n\n\t// Credit card (exactly 16 digits)\n\tif (digitsLen === 16) return { format: \"creditCard\", formattedValue: digitsOnly };\n\n\t// Date patterns (MM/DD/YYYY, DD/MM/YYYY, YYYY-MM-DD)\n\tif (/^\\d{1,2}[/-]\\d{1,2}[/-]\\d{2,4}$/.test(value) || /^\\d{4}[/-]\\d{1,2}[/-]\\d{1,2}$/.test(value))\n\t\treturn { format: \"date\", formattedValue: digitsOnly };\n\n\t// Currency ($1,234.56, â‚¬1.234,56, etc.)\n\tif (/^[$â‚¬Â£Â¥]?\\s*[\\d,]+\\.?\\d*$/.test(value)) return { format: \"currency\", formattedValue: value.replace(/[^\\d.]/g, \"\") };\n\n\treturn null;\n}\n\n/**\n * Detects the format of a value and automatically applies appropriate formatting\n * @param value - The input string to detect and format\n * @returns Formatted string based on detected pattern, or original value if no pattern detected\n * @example detectAndFormat(\"1234567890\") // \"(123) 456-7890\"\n * @example detectAndFormat(\"1234 5678 9012 3456\") // \"1234 5678 9012 3456\"\n */\nexport function detectAndFormat(value: string): string {\n\tconst detected = detectPasteFormat(value);\n\tif (!detected) return value;\n\n\tconst { format, formattedValue } = detected;\n\n\tswitch (format) {\n\t\tcase \"phone\":\n\t\t\treturn formatPhoneUS(formattedValue);\n\t\tcase \"creditCard\":\n\t\t\treturn formatCreditCard(formattedValue);\n\t\tcase \"date\":\n\t\t\treturn formatDate(formattedValue);\n\t\tcase \"currency\":\n\t\t\treturn formatCurrency(formattedValue);\n\t\tdefault:\n\t\t\treturn value;\n\t}\n}\n","\"use client\";\r\nimport { formatPhone, formatCreditCard, formatDate, formatCurrency, calculatePasswordStrength, detectAndFormat } from \"./utils\";\r\nimport { useRef, useId, useReducer, useCallback, useEffect, useMemo, useImperativeHandle, memo, lazy, Suspense } from \"react\";\r\nimport { m, LazyMotion, domAnimation, domMin, MotionConfig, useReducedMotion } from \"motion/react\";\r\nimport { useShakeAnimation, useAsyncValidation, useLongPress, useRipple } from \"./hooks\";\r\nimport { inputReducer, createInitialState } from \"./reducers\";\r\nimport { AnimatedInputErrorBoundary } from \"./error-boundary\";\r\nimport { useTimeoutManager } from \"../../utils/hooks/index\";\r\nimport { useHistory } from \"../../utils/hooks/index\";\r\nimport { cn } from \"../../utils/functions\";\r\nimport {\r\n\tBLUR_DELAY,\r\n\tSIZE_STYLES,\r\n\tSHADOW_STYLES,\r\n\tRADIUS_STYLES,\r\n\tPASTE_FLASH_DURATION,\r\n\tCOPY_FEEDBACK_DURATION,\r\n\tPASTE_FEEDBACK_DURATION,\r\n} from \"./constants\";\r\nimport {\r\n\tPasteFlash,\r\n\tCopyButton,\r\n\tPasteButton,\r\n\tClearButton,\r\n\tHistoryButtons,\r\n\tValidationIcon,\r\n\tLoadingIndicator,\r\n\tLoadingProgressBar,\r\n\tPasswordToggleButton,\r\n\tValidationProgressBar,\r\n\tClipboardErrorMessage,\r\n} from \"./sub-components\";\r\n\r\nimport type {\r\n\tReactNode,\r\n\tFocusEvent,\r\n\tMouseEvent,\r\n\tChangeEvent,\r\n\tKeyboardEvent,\r\n\tClipboardEvent,\r\n\tFocusEventHandler,\r\n\tChangeEventHandler,\r\n\tKeyboardEventHandler,\r\n} from \"react\";\r\n\r\n// Labels\r\nconst InsideLabel = lazy(() => import(\"./sub-components/Labels/InsideLabel\"));\r\nconst StackedLabel = lazy(() => import(\"./sub-components/Labels/StackedLabel\"));\r\nconst OutsideLabel = lazy(() => import(\"./sub-components/Labels/OutsideLabel\"));\r\nconst OutsideTopLabel = lazy(() => import(\"./sub-components/Labels/OutsideTopLabel\"));\r\nconst OutsideLeftLabel = lazy(() => import(\"./sub-components/Labels/OutsideLeftLabel\"));\r\nconst LeftAnimatedLabel = lazy(() => import(\"./sub-components/Labels/LeftAnimatedLabel\"));\r\n\r\n// Sub Components\r\nconst RippleContainer = lazy(() => import(\"./sub-components/RippleContainer\"));\r\nconst CharacterCounter = lazy(() => import(\"./sub-components/CharacterCounter\"));\r\nconst RequirementsList = lazy(() => import(\"./sub-components/RequirementsList\"));\r\nconst SuggestionsDropdown = lazy(() => import(\"./sub-components/SuggestionsDropdown\"));\r\nconst PasswordStrengthMeter = lazy(() => import(\"./sub-components/PasswordStrengthMeter\"));\r\n\r\nimport type { AnimatedInputProps, Suggestion } from \"./types\";\r\n\r\nexport function InputInner(InnerProps: AnimatedInputProps): ReactNode {\r\n\tconst {\r\n\t\tvariant = \"default\",\r\n\t\tsize = \"md\",\r\n\t\tradius = \"md\",\r\n\t\tshadow = \"none\",\r\n\t\tlabel,\r\n\t\tlabelPosition = \"inside\",\r\n\t\tlabelAnimation = \"spring\",\r\n\t\tformatAs = \"none\",\r\n\t\tphoneFormat = \"US\",\r\n\t\tcustomPhoneFormat,\r\n\t\tcurrencySymbol = \"$\",\r\n\t\tprefix,\r\n\t\tsuffix,\r\n\t\terror,\r\n\t\twarning,\r\n\t\tsuccess,\r\n\t\thelperText,\r\n\t\tvalidationProgress,\r\n\t\tloadingProgress = 0,\r\n\t\tisLoading,\r\n\t\tasyncValidate,\r\n\t\tasyncValidateOnChange = true,\r\n\t\tasyncDebounceMs = 500,\r\n\t\tasyncValidateTimeout = 10000,\r\n\t\tshowCharacterCount,\r\n\t\tlimit,\r\n\t\tmaxCharacters,\r\n\t\tcharacterRestrictions,\r\n\t\tshowClearButton,\r\n\t\tshowCopyButton,\r\n\t\tshowPasteButton,\r\n\t\tallowCopy = true,\r\n\t\tallowPaste = true,\r\n\t\tonCopy,\r\n\t\tonPaste,\r\n\t\tonClipboardError,\r\n\t\ttrailingIcon,\r\n\t\tleadingIcon,\r\n\t\tmultiline = false,\r\n\t\trows = 3,\r\n\t\tmaxRows,\r\n\t\tresize = \"vertical\",\r\n\t\tobscureAfterTimeout,\r\n\t\tisObscuredControlled,\r\n\t\tonObscureChange,\r\n\t\twatermarkOnCopy,\r\n\t\tselectAllOnDoubleClick = true,\r\n\t\tautoCapitalize = \"none\",\r\n\t\tsuggestions,\r\n\t\tonSuggestionSelect,\r\n\t\tenableRipple = true,\r\n\t\tenableHaptics = false,\r\n\t\tenableHistory = false,\r\n\t\tshowHistoryButtons = false,\r\n\t\tsmartPaste = false,\r\n\t\tshakeOnError = true,\r\n\t\tshakeOnSuccess = false,\r\n\t\tdirection = \"ltr\",\r\n\t\tclassName,\r\n\t\ttype = \"text\",\r\n\t\tid,\r\n\t\tname,\r\n\t\tplaceholder,\r\n\t\tdisabled,\r\n\t\tonChange,\r\n\t\tonValueChange,\r\n\t\tdebounceMs = 0,\r\n\t\tshowPasswordStrength,\r\n\t\tpasswordRequirements,\r\n\t\tshowRequirements,\r\n\t\trenderMessages,\r\n\t\tautoTabOnComplete = false,\r\n\t\tsmartTrim = false,\r\n\t\tformatOnBlur = false,\r\n\t\tonComplete,\r\n\t\tonLongPress,\r\n\t\tlongPressMs = 500,\r\n\t\tdefaultValue,\r\n\t\tvalue: controlledValueProp,\r\n\t\tshowPasswordToggle = false,\r\n\t\tanimationBundle = \"full\",\r\n\t\tref,\r\n\t\t...props\r\n\t} = InnerProps;\r\n\r\n\t// Refs\r\n\tconst inputRef = useRef<HTMLInputElement>(null);\r\n\tconst textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\tconst generatedId = useId();\r\n\r\n\t// Centralized timeout manager - replaces 8 separate timer refs\r\n\tconst timeouts = useTimeoutManager();\r\n\tconst inputId = id || generatedId;\r\n\tconst messageId = `${inputId}-message`;\r\n\tconst listboxId = `${inputId}-listbox`;\r\n\r\n\tconst [state, dispatch] = useReducer(inputReducer, (defaultValue as string) || \"\", createInitialState);\r\n\r\n\tconst shouldReduceMotion = useReducedMotion();\r\n\tconst activeRef = multiline ? textareaRef : inputRef;\r\n\r\n\t// React 19: Use useImperativeHandle to merge internal and external refs\r\n\tuseImperativeHandle(ref, () => activeRef.current as HTMLInputElement | HTMLTextAreaElement, [multiline]);\r\n\r\n\t// Simple ref setters for input/textarea elements\r\n\tconst setInputRef = useCallback((element: HTMLInputElement | null) => {\r\n\t\tinputRef.current = element;\r\n\t}, []);\r\n\r\n\tconst setTextareaRef = useCallback((element: HTMLTextAreaElement | null) => {\r\n\t\ttextareaRef.current = element;\r\n\t}, []);\r\n\r\n\t// Sync controlled value\r\n\tuseEffect(() => {\r\n\t\tif (controlledValueProp !== undefined) {\r\n\t\t\tdispatch({ type: \"SET_VALUE\", payload: controlledValueProp as string });\r\n\t\t}\r\n\t}, [controlledValueProp]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isObscuredControlled !== undefined) {\r\n\t\t\tdispatch({ type: \"SET_OBSCURED\", payload: isObscuredControlled });\r\n\t\t}\r\n\t}, [isObscuredControlled]);\r\n\r\n\tconst controlledValue = controlledValueProp !== undefined ? (controlledValueProp as string) : state.value;\r\n\tconst isDisabledOrLoading = disabled || isLoading;\r\n\tconst hasValue = controlledValue.length > 0;\r\n\tconst isFloating = useMemo(() => state.isFocused || hasValue, [state.isFocused, hasValue]);\r\n\tconst shouldFloat = useMemo(() => isFloating || !!prefix, [isFloating, prefix]);\r\n\r\n\t// Determine which animation bundle to use based on props and features\r\n\tconst requiredAnimationBundle = useMemo(() => {\r\n\t\t// If user explicitly requested minimal, check if it's compatible\r\n\t\tif (animationBundle === \"minimal\") {\r\n\t\t\t// Features that require domAnimation (full bundle):\r\n\t\t\t// 1. Action buttons with gesture animations (whileHover/whileTap)\r\n\t\t\tconst hasActionButtons = showClearButton || showCopyButton || showPasteButton || showHistoryButtons;\r\n\t\t\t// 2. Layout animations (width/height) - used in LeftAnimatedLabel and RequirementsList\r\n\t\t\tconst hasLayoutAnimations = labelPosition === \"left\" || showRequirements;\r\n\t\t\t// 3. Suggestions dropdown uses layout animations\r\n\t\t\tconst hasSuggestions = suggestions && suggestions.length > 0;\r\n\t\t\t// 4. Progress bars use width animations\r\n\t\t\tconst hasProgressBars = validationProgress !== undefined || loadingProgress !== undefined || isLoading;\r\n\r\n\t\t\t// If any of these features are used, we need full bundle\r\n\t\t\tif (hasActionButtons || hasLayoutAnimations || hasSuggestions || hasProgressBars) {\r\n\t\t\t\treturn \"full\"; // Fallback to full\r\n\t\t\t}\r\n\t\t\treturn \"minimal\"; // Safe to use minimal\r\n\t\t}\r\n\t\treturn animationBundle; // Use requested bundle (default \"full\")\r\n\t}, [\r\n\t\tanimationBundle,\r\n\t\tshowClearButton,\r\n\t\tshowCopyButton,\r\n\t\tshowPasteButton,\r\n\t\tshowHistoryButtons,\r\n\t\tlabelPosition,\r\n\t\tshowRequirements,\r\n\t\tsuggestions,\r\n\t\tvalidationProgress,\r\n\t\tloadingProgress,\r\n\t\tisLoading,\r\n\t]);\r\n\r\n\tconst animationFeatures = requiredAnimationBundle === \"minimal\" ? domMin : domAnimation;\r\n\r\n\tconst isObscured = isObscuredControlled !== undefined ? isObscuredControlled : state.isObscured;\r\n\r\n\t// Use shared useHistory hook with string type\r\n\tconst historyHook = useHistory<string>((defaultValue as string) || \"\");\r\n\tconst pushHistory = useCallback((value: string) => historyHook.setState(value), [historyHook]);\r\n\tconst { undo, redo, canUndo, canRedo } = historyHook;\r\n\r\n\t// Sync history state with component state when undo/redo changes history\r\n\t// Note: This only syncs when historyHook.state changes from undo/redo, not from pushHistory\r\n\tuseEffect(() => {\r\n\t\tif (enableHistory && controlledValueProp === undefined) {\r\n\t\t\t// Only sync if we're in uncontrolled mode and the values don't match\r\n\t\t\t// This handles the case where undo/redo changed historyHook.state\r\n\t\t\tif (historyHook.state !== controlledValue) {\r\n\t\t\t\tdispatch({ type: \"SET_VALUE\", payload: historyHook.state });\r\n\t\t\t\tonValueChange?.(historyHook.state);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [historyHook.state, enableHistory, controlledValue, controlledValueProp, onValueChange]);\r\n\r\n\tconst { asyncError, isValidating, validateDebounced, validateAsync, clearError } = useAsyncValidation(\r\n\t\tasyncValidate,\r\n\t\tasyncDebounceMs,\r\n\t\tasyncValidateTimeout\r\n\t);\r\n\r\n\tconst validationState = useMemo(() => {\r\n\t\tif (error || asyncError) return \"error\";\r\n\t\tif (warning) return \"warning\";\r\n\t\tif (success) return \"success\";\r\n\t\treturn null;\r\n\t}, [error, warning, success, asyncError]);\r\n\r\n\tconst { containerRef, triggerLongPressShake, triggerShake } = useShakeAnimation(!!(error || asyncError), !!success, shakeOnError);\r\n\r\n\tconst { ripples, addRipple, removeRipple } = useRipple(enableRipple && !isDisabledOrLoading, enableHaptics);\r\n\r\n\tconst { handlers: longPressHandlers } = useLongPress(\r\n\t\tonLongPress\r\n\t\t\t? (val) => {\r\n\t\t\t\t\ttriggerLongPressShake();\r\n\t\t\t\t\tonLongPress(val);\r\n\t\t\t  }\r\n\t\t\t: undefined,\r\n\t\t() => controlledValue,\r\n\t\tlongPressMs\r\n\t);\r\n\r\n\tconst sizeStyles = useMemo(() => SIZE_STYLES[size], [size]);\r\n\tconst radiusStyle = useMemo(() => RADIUS_STYLES[radius], [radius]);\r\n\tconst shadowStyle = useMemo(() => SHADOW_STYLES[shadow], [shadow]);\r\n\r\n\tconst passwordStrength = useMemo(() => (type === \"password\" ? calculatePasswordStrength(controlledValue) : 0), [type, controlledValue]);\r\n\r\n\tconst filteredSuggestions = useMemo(() => {\r\n\t\tif (!suggestions || !controlledValue) return suggestions || [];\r\n\t\treturn suggestions.filter((s) => s.value.toLowerCase().includes(controlledValue.toLowerCase()));\r\n\t}, [suggestions, controlledValue]);\r\n\r\n\tconst inputType = type === \"password\" && state.showPassword ? \"text\" : type;\r\n\r\n\tconst displayValue = useMemo(() => {\r\n\t\tif (isObscured) return \"â€¢\".repeat(controlledValue.length);\r\n\t\treturn controlledValue;\r\n\t}, [controlledValue, isObscured]);\r\n\r\n\tconst getVariantStyles = useCallback(() => {\r\n\t\tconst focusRing = \"focus-within:ring-2 focus-within:ring-ring/20\";\r\n\r\n\t\tconst stateStyles =\r\n\t\t\tvalidationState === \"error\"\r\n\t\t\t\t? \"border-red-500 focus-within:ring-red-500/20\"\r\n\t\t\t\t: validationState === \"warning\"\r\n\t\t\t\t? \"border-amber-500 focus-within:ring-amber-500/20\"\r\n\t\t\t\t: validationState === \"success\"\r\n\t\t\t\t? \"border-green-500 focus-within:ring-green-500/20\"\r\n\t\t\t\t: \"\";\r\n\r\n\t\tswitch (variant) {\r\n\t\t\tcase \"filled\":\r\n\t\t\t\treturn cn(\r\n\t\t\t\t\t\"bg-muted/40 border-transparent hover:bg-muted/60 focus-within:bg-background focus-within:border-border\",\r\n\t\t\t\t\tfocusRing,\r\n\t\t\t\t\tstateStyles\r\n\t\t\t\t);\r\n\t\t\tcase \"ghost\":\r\n\t\t\t\treturn cn(\"bg-transparent border-transparent hover:bg-muted/40\", focusRing, stateStyles);\r\n\t\t\tcase \"underline\":\r\n\t\t\t\treturn cn(\"rounded-none border-x-0 border-t-0 border-b-2 bg-transparent\", stateStyles || \"border-border focus-within:border-primary\");\r\n\t\t\tcase \"bordered\":\r\n\t\t\t\treturn cn(\"border-2\", focusRing, stateStyles || \"border-border focus-within:border-primary\");\r\n\t\t\tcase \"flushed\":\r\n\t\t\t\treturn cn(\"rounded-none border-0 border-b bg-transparent\", stateStyles || \"border-border focus-within:border-primary\");\r\n\t\t\tcase \"unstyled\":\r\n\t\t\t\treturn \"border-0 bg-transparent shadow-none\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn cn(\"bg-background border border-border/60 hover:border-border\", focusRing, stateStyles || \"focus-within:border-primary/60\");\r\n\t\t}\r\n\t}, [variant, validationState]);\r\n\r\n\tconst getInputTextColor = useCallback(() => {\r\n\t\tif (validationState === \"error\") return \"text-red-600\";\r\n\t\tif (validationState === \"warning\") return \"text-amber-600\";\r\n\t\tif (validationState === \"success\") return \"text-green-600\";\r\n\t\treturn \"text-foreground\";\r\n\t}, [validationState]);\r\n\r\n\tconst getLabelColor = useCallback(() => {\r\n\t\tif (validationState === \"error\") return \"text-red-500\";\r\n\t\tif (validationState === \"warning\") return \"text-amber-500\";\r\n\t\tif (validationState === \"success\") return \"text-green-500\";\r\n\t\tif (state.isFocused) return \"text-primary\";\r\n\t\treturn \"text-muted-foreground\";\r\n\t}, [validationState, state.isFocused]);\r\n\r\n\tconst containerClasses = useMemo(\r\n\t\t() =>\r\n\t\t\tcn(\r\n\t\t\t\t\"group/input relative flex items-center w-full transition-all duration-200\",\r\n\t\t\t\tsizeStyles.height,\r\n\t\t\t\tsizeStyles.padding,\r\n\t\t\t\tsizeStyles.gap,\r\n\t\t\t\tradiusStyle,\r\n\t\t\t\tshadowStyle,\r\n\t\t\t\tgetVariantStyles(),\r\n\t\t\t\tisDisabledOrLoading && \"opacity-50 cursor-not-allowed\",\r\n\t\t\t\tstate.isFocused && \"ring-2 ring-ring/20\"\r\n\t\t\t),\r\n\t\t[sizeStyles, radiusStyle, shadowStyle, getVariantStyles, isDisabledOrLoading, state.isFocused]\r\n\t);\r\n\r\n\tconst inputClasses = useMemo(\r\n\t\t() =>\r\n\t\t\tcn(\r\n\t\t\t\t\"flex-1 min-w-0 bg-transparent outline-none\",\r\n\t\t\t\tsizeStyles.text,\r\n\t\t\t\t\"placeholder:text-muted-foreground/50\",\r\n\t\t\t\t\"transition-colors duration-150\",\r\n\t\t\t\tgetInputTextColor()\r\n\t\t\t),\r\n\t\t[sizeStyles.text, getInputTextColor]\r\n\t);\r\n\r\n\tconst formatValue = useCallback(\r\n\t\t(val: string) => {\r\n\t\t\tif (formatAs === \"none\") return val;\r\n\t\t\tswitch (formatAs) {\r\n\t\t\t\tcase \"phone\":\r\n\t\t\t\t\treturn formatPhone(val, phoneFormat, customPhoneFormat);\r\n\t\t\t\tcase \"creditCard\":\r\n\t\t\t\t\treturn formatCreditCard(val);\r\n\t\t\t\tcase \"date\":\r\n\t\t\t\t\treturn formatDate(val);\r\n\t\t\t\tcase \"currency\":\r\n\t\t\t\t\treturn formatCurrency(val, currencySymbol);\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[formatAs, phoneFormat, customPhoneFormat, currencySymbol]\r\n\t);\r\n\r\n\tconst trimValue = useCallback((val: string) => {\r\n\t\treturn val.trim().replace(/\\s+/g, \" \");\r\n\t}, []);\r\n\r\n\tconst updateValue = useCallback(\r\n\t\t(newValue: string, triggerEvents = true) => {\r\n\t\t\tif (characterRestrictions && !characterRestrictions.test(newValue) && newValue !== \"\") return;\r\n\r\n\t\t\tconst effectiveMaxLength = maxCharacters || (multiline ? undefined : props.maxLength);\r\n\t\t\tif (limit === \"hard\" && effectiveMaxLength && newValue.length > effectiveMaxLength) return;\r\n\r\n\t\t\tconst processedValue = formatOnBlur ? newValue : formatValue(newValue);\r\n\r\n\t\t\tif (enableHistory) pushHistory(processedValue);\r\n\r\n\t\t\tdispatch({ type: \"SET_VALUE\", payload: processedValue });\r\n\r\n\t\t\tif (triggerEvents) {\r\n\t\t\t\tif (debounceMs > 0) {\r\n\t\t\t\t\ttimeouts.clear(\"debounce\");\r\n\t\t\t\t\ttimeouts.set(\"debounce\", () => onValueChange?.(processedValue), debounceMs);\r\n\t\t\t\t} else onValueChange?.(processedValue);\r\n\r\n\t\t\t\tif (asyncValidate && asyncValidateOnChange) validateDebounced(processedValue);\r\n\t\t\t}\r\n\r\n\t\t\tif (autoTabOnComplete && effectiveMaxLength && processedValue.length >= effectiveMaxLength) {\r\n\t\t\t\tconst form = activeRef.current?.form;\r\n\t\t\t\tif (form) {\r\n\t\t\t\t\tconst elements = Array.from(form.elements) as HTMLElement[];\r\n\t\t\t\t\tconst index = elements.indexOf(activeRef.current as HTMLElement);\r\n\t\t\t\t\tconst next = elements[index + 1];\r\n\t\t\t\t\tif (next && \"focus\" in next) {\r\n\t\t\t\t\t\t(next as HTMLElement).focus();\r\n\t\t\t\t\t\tonComplete?.();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[\r\n\t\t\tcharacterRestrictions,\r\n\t\t\tlimit,\r\n\t\t\tmaxCharacters,\r\n\t\t\tmultiline,\r\n\t\t\tprops.maxLength,\r\n\t\t\tformatValue,\r\n\t\t\tformatOnBlur,\r\n\t\t\tenableHistory,\r\n\t\t\tpushHistory,\r\n\t\t\tdebounceMs,\r\n\t\t\tonValueChange,\r\n\t\t\tasyncValidate,\r\n\t\t\tasyncValidateOnChange,\r\n\t\t\tvalidateDebounced,\r\n\t\t\tautoTabOnComplete,\r\n\t\t\tonComplete,\r\n\t\t\tactiveRef,\r\n\t\t]\r\n\t);\r\n\r\n\tconst handleChange = useCallback(\r\n\t\t(e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n\t\t\tconst newValue = e.target.value;\r\n\t\t\tupdateValue(newValue);\r\n\r\n\t\t\t// Show suggestions when typing if suggestions are available\r\n\t\t\tif (suggestions && suggestions.length > 0 && newValue.length > 0) {\r\n\t\t\t\tdispatch({ type: \"SET_SHOW_SUGGESTIONS\", payload: true });\r\n\t\t\t\tdispatch({ type: \"SET_ACTIVE_SUGGESTION\", payload: -1 }); // Reset active index when typing\r\n\t\t\t} else dispatch({ type: \"SET_SHOW_SUGGESTIONS\", payload: false });\r\n\r\n\t\t\tonChange?.(e);\r\n\t\t},\r\n\t\t[updateValue, onChange, suggestions]\r\n\t);\r\n\r\n\tconst handleFocus = useCallback(\r\n\t\t(e: FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n\t\t\tdispatch({ type: \"FOCUS_INPUT\" });\r\n\r\n\t\t\t// Clear obscure timer\r\n\t\t\ttimeouts.clear(\"obscure\");\r\n\r\n\t\t\t// Notify parent if obscure state changed\r\n\t\t\tif (isObscured && onObscureChange) onObscureChange(false);\r\n\r\n\t\t\tprops.onFocus?.(e as never);\r\n\t\t},\r\n\t\t[props.onFocus, isObscured, onObscureChange, timeouts]\r\n\t);\r\n\r\n\tconst handleBlur = useCallback(\r\n\t\t(e: FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n\t\t\t// Delay blur handling to allow click events on suggestions to fire first\r\n\t\t\ttimeouts.set(\r\n\t\t\t\t\"blur\",\r\n\t\t\t\t() => {\r\n\t\t\t\t\tdispatch({ type: \"BLUR_INPUT\" });\r\n\r\n\t\t\t\t\tlet currentValue = controlledValue;\r\n\r\n\t\t\t\t\tif (smartTrim && currentValue) {\r\n\t\t\t\t\t\tconst trimmed = trimValue(currentValue);\r\n\t\t\t\t\t\tif (trimmed !== currentValue) currentValue = trimmed;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (formatOnBlur && formatAs !== \"none\" && currentValue) {\r\n\t\t\t\t\t\tconst formatted = formatValue(currentValue);\r\n\t\t\t\t\t\tif (formatted !== currentValue) currentValue = formatted;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (currentValue !== controlledValue) {\r\n\t\t\t\t\t\tdispatch({ type: \"SET_VALUE\", payload: currentValue });\r\n\t\t\t\t\t\tonValueChange?.(currentValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (obscureAfterTimeout && currentValue.length > 0) {\r\n\t\t\t\t\t\ttimeouts.set(\r\n\t\t\t\t\t\t\t\"obscure\",\r\n\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\tdispatch({ type: \"SET_OBSCURED\", payload: true });\r\n\t\t\t\t\t\t\t\tonObscureChange?.(true);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tobscureAfterTimeout\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (asyncValidate && !asyncValidateOnChange && currentValue) validateAsync(currentValue);\r\n\r\n\t\t\t\t\tprops.onBlur?.(e as never);\r\n\t\t\t\t},\r\n\t\t\t\tBLUR_DELAY\r\n\t\t\t);\r\n\t\t},\r\n\t\t[\r\n\t\t\ttimeouts,\r\n\t\t\tcontrolledValue,\r\n\t\t\tsmartTrim,\r\n\t\t\ttrimValue,\r\n\t\t\tformatOnBlur,\r\n\t\t\tformatAs,\r\n\t\t\tformatValue,\r\n\t\t\tonValueChange,\r\n\t\t\tobscureAfterTimeout,\r\n\t\t\tonObscureChange,\r\n\t\t\tasyncValidate,\r\n\t\t\tasyncValidateOnChange,\r\n\t\t\tvalidateAsync,\r\n\t\t\tprops.onBlur,\r\n\t\t]\r\n\t);\r\n\r\n\tconst handlePaste = useCallback(\r\n\t\t(e: ClipboardEvent) => {\r\n\t\t\tif (!allowPaste) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst pastedText = e.clipboardData.getData(\"text\");\r\n\r\n\t\t\tif (smartPaste) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst formatted = detectAndFormat(pastedText);\r\n\t\t\t\tupdateValue(formatted);\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({ type: \"SET_PASTE_FLASH\", payload: true });\r\n\t\t\ttimeouts.set(\"pasteFlash\", () => dispatch({ type: \"SET_PASTE_FLASH\", payload: false }), PASTE_FLASH_DURATION);\r\n\t\t\tdispatch({ type: \"SET_PASTED\", payload: true });\r\n\t\t\ttimeouts.set(\"pasteFeedback\", () => dispatch({ type: \"SET_PASTED\", payload: false }), PASTE_FEEDBACK_DURATION);\r\n\r\n\t\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(5);\r\n\t\t\tonPaste?.(pastedText as never);\r\n\t\t},\r\n\t\t[allowPaste, smartPaste, updateValue, timeouts, enableHaptics, onPaste]\r\n\t);\r\n\r\n\tconst handleCopyPrevention = useCallback(\r\n\t\t(e: ClipboardEvent) => {\r\n\t\t\tif (!allowCopy) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (watermarkOnCopy) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst textWithWatermark = `${controlledValue}\\n\\n${watermarkOnCopy}`;\r\n\t\t\t\te.clipboardData.setData(\"text/plain\", textWithWatermark);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[allowCopy, watermarkOnCopy, controlledValue]\r\n\t);\r\n\r\n\tconst handleDoubleClick = useCallback(() => {\r\n\t\tif (selectAllOnDoubleClick && activeRef.current) activeRef.current.select();\r\n\t}, [selectAllOnDoubleClick, activeRef]);\r\n\r\n\tconst handleUndo = useCallback(() => {\r\n\t\t// State will be synced via useEffect when historyHook.state updates\r\n\t\tif (canUndo) undo();\r\n\t}, [undo, canUndo]);\r\n\r\n\tconst handleRedo = useCallback(() => {\r\n\t\t// State will be synced via useEffect when historyHook.state updates\r\n\t\tif (canRedo) redo();\r\n\t}, [redo, canRedo]);\r\n\r\n\tconst handleSuggestionSelect = useCallback(\r\n\t\t(suggestion: Suggestion) => {\r\n\t\t\tupdateValue(suggestion.value);\r\n\t\t\t// Close suggestions and blur input after selection\r\n\t\t\ttimeouts.set(\r\n\t\t\t\t\"suggestionClose\",\r\n\t\t\t\t() => {\r\n\t\t\t\t\tdispatch({ type: \"SET_SHOW_SUGGESTIONS\", payload: false });\r\n\t\t\t\t\tactiveRef.current?.blur();\r\n\t\t\t\t},\r\n\t\t\t\t0\r\n\t\t\t);\r\n\t\t\tonSuggestionSelect?.(suggestion);\r\n\t\t},\r\n\t\t[updateValue, onSuggestionSelect, activeRef, timeouts]\r\n\t);\r\n\r\n\tconst handleKeyDown = useCallback(\r\n\t\t(e: KeyboardEvent) => {\r\n\t\t\tif (enableHistory) {\r\n\t\t\t\tif ((e.ctrlKey || e.metaKey) && e.key === \"z\" && !e.shiftKey) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\thandleUndo();\r\n\t\t\t\t}\r\n\t\t\t\tif ((e.ctrlKey || e.metaKey) && (e.key === \"y\" || (e.key === \"z\" && e.shiftKey))) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\thandleRedo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (state.showSuggestions && filteredSuggestions.length > 0) {\r\n\t\t\t\tif (e.key === \"ArrowDown\") {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_ACTIVE_SUGGESTION\",\r\n\t\t\t\t\t\tpayload: Math.min(state.activeSuggestionIndex + 1, filteredSuggestions.length - 1),\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (e.key === \"ArrowUp\") {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_ACTIVE_SUGGESTION\",\r\n\t\t\t\t\t\tpayload: Math.max(state.activeSuggestionIndex - 1, 0),\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (e.key === \"Enter\" && state.activeSuggestionIndex >= 0) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\thandleSuggestionSelect(filteredSuggestions[state.activeSuggestionIndex]);\r\n\t\t\t\t} else if (e.key === \"Escape\") dispatch({ type: \"SET_SHOW_SUGGESTIONS\", payload: false });\r\n\t\t\t}\r\n\r\n\t\t\tprops.onKeyDown?.(e as never);\r\n\t\t},\r\n\t\t[\r\n\t\t\tenableHistory,\r\n\t\t\thandleUndo,\r\n\t\t\thandleRedo,\r\n\t\t\tstate.showSuggestions,\r\n\t\t\tstate.activeSuggestionIndex,\r\n\t\t\tfilteredSuggestions,\r\n\t\t\thandleSuggestionSelect,\r\n\t\t\tprops.onKeyDown,\r\n\t\t]\r\n\t);\r\n\r\n\tconst handleClear = useCallback(() => {\r\n\t\tupdateValue(\"\");\r\n\t\tclearError();\r\n\t\tdispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" });\r\n\t\tactiveRef.current?.focus();\r\n\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(5);\r\n\t}, [updateValue, clearError, enableHaptics, activeRef]);\r\n\r\n\tconst handleCopy = useCallback(async () => {\r\n\t\tdispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" });\r\n\r\n\t\ttry {\r\n\t\t\tconst textToCopy = watermarkOnCopy ? `${controlledValue}\\n\\n${watermarkOnCopy}` : controlledValue;\r\n\t\t\tawait navigator.clipboard.writeText(textToCopy);\r\n\t\t\tdispatch({ type: \"SET_COPIED\", payload: true });\r\n\t\t\ttimeouts.set(\"copyFeedback\", () => dispatch({ type: \"SET_COPIED\", payload: false }), COPY_FEEDBACK_DURATION);\r\n\t\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(5);\r\n\t\t\tonCopy?.(controlledValue as never);\r\n\t\t} catch (err) {\r\n\t\t\tconst error = err instanceof Error ? err : new Error(\"Failed to copy to clipboard\");\r\n\t\t\tdispatch({ type: \"SET_CLIPBOARD_ERROR\", payload: \"Copy failed. Try selecting and using Ctrl+C.\" });\r\n\t\t\tonClipboardError?.(error, \"copy\");\r\n\r\n\t\t\t// Auto-clear error after 5 seconds\r\n\t\t\ttimeouts.set(\"clipboardError\", () => dispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" }), 5000);\r\n\r\n\t\t\t// Fallback: select the text so user can manually copy\r\n\t\t\tif (activeRef.current) activeRef.current.select();\r\n\r\n\t\t\ttriggerShake();\r\n\t\t}\r\n\t}, [controlledValue, watermarkOnCopy, enableHaptics, onCopy, onClipboardError, activeRef, triggerShake]);\r\n\r\n\tconst handlePasteButton = useCallback(async () => {\r\n\t\tdispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" });\r\n\r\n\t\ttry {\r\n\t\t\tconst text = await navigator.clipboard.readText();\r\n\t\t\tconst newValue = smartPaste ? detectAndFormat(text) : text;\r\n\t\t\tupdateValue(newValue);\r\n\t\t\tdispatch({ type: \"SET_PASTE_FLASH\", payload: true });\r\n\t\t\ttimeouts.set(\"pasteFlash\", () => dispatch({ type: \"SET_PASTE_FLASH\", payload: false }), PASTE_FLASH_DURATION);\r\n\t\t\tdispatch({ type: \"SET_PASTED\", payload: true });\r\n\t\t\ttimeouts.set(\"pasteFeedback\", () => dispatch({ type: \"SET_PASTED\", payload: false }), PASTE_FEEDBACK_DURATION);\r\n\t\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(5);\r\n\t\t\tonPaste?.(text as never);\r\n\t\t} catch (err) {\r\n\t\t\tconst error = err instanceof Error ? err : new Error(\"Failed to read from clipboard\");\r\n\t\t\tdispatch({ type: \"SET_CLIPBOARD_ERROR\", payload: \"Paste failed. Try using Ctrl+V instead.\" });\r\n\t\t\tonClipboardError?.(error, \"paste\");\r\n\r\n\t\t\t// Auto-clear error after 5 seconds\r\n\t\t\ttimeouts.set(\"clipboardError\", () => dispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" }), 5000);\r\n\t\t\ttriggerShake();\r\n\t\t}\r\n\t}, [smartPaste, updateValue, timeouts, enableHaptics, onPaste, onClipboardError, triggerShake]);\r\n\r\n\tconst handleDismissClipboardError = useCallback(() => {\r\n\t\tdispatch({ type: \"CLEAR_CLIPBOARD_ERROR\" });\r\n\t\ttimeouts.clear(\"clipboardError\");\r\n\t}, [timeouts]);\r\n\r\n\tconst togglePassword = useCallback(() => {\r\n\t\tdispatch({ type: \"TOGGLE_PASSWORD\" });\r\n\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(3);\r\n\t}, [enableHaptics]);\r\n\r\n\tconst handleContainerClick = useCallback(\r\n\t\t(e: MouseEvent<HTMLDivElement>) => {\r\n\t\t\taddRipple(e);\r\n\t\t\tif (!isDisabledOrLoading && activeRef.current) activeRef.current.focus();\r\n\t\t},\r\n\t\t[addRipple, isDisabledOrLoading, activeRef]\r\n\t);\r\n\r\n\tconst actionButtons = useMemo(() => {\r\n\t\tconst buttons: ReactNode[] = [];\r\n\t\tconst iconSize = sizeStyles.iconSize;\r\n\r\n\t\tif (enableHistory && showHistoryButtons) {\r\n\t\t\tbuttons.push(\r\n\t\t\t\t<HistoryButtons key=\"history\" canUndo={canUndo} canRedo={canRedo} onUndo={handleUndo} onRedo={handleRedo} iconSize={iconSize} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (isLoading || isValidating) {\r\n\t\t\tbuttons.push(<LoadingIndicator key=\"loading\" progress={loadingProgress} iconSize={iconSize} />);\r\n\t\t} else if (validationState && !showClearButton) {\r\n\t\t\tbuttons.push(<ValidationIcon key=\"validation\" state={validationState} iconSize={iconSize} />);\r\n\t\t}\r\n\r\n\t\tif (showClearButton && hasValue && !isDisabledOrLoading) {\r\n\t\t\tbuttons.push(<ClearButton key=\"clear\" onClick={handleClear} iconSize={iconSize} />);\r\n\t\t}\r\n\r\n\t\tif (showCopyButton && !isDisabledOrLoading) {\r\n\t\t\tbuttons.push(<CopyButton key=\"copy\" onClick={handleCopy} iconSize={iconSize} copied={state.copied} />);\r\n\t\t}\r\n\r\n\t\tif (showPasteButton && !isDisabledOrLoading) {\r\n\t\t\tbuttons.push(<PasteButton key=\"paste\" onClick={handlePasteButton} iconSize={iconSize} pasted={state.pasted} />);\r\n\t\t}\r\n\r\n\t\tif (showPasswordToggle && type === \"password\") {\r\n\t\t\tbuttons.push(<PasswordToggleButton key=\"password\" onClick={togglePassword} iconSize={iconSize} showPassword={state.showPassword} />);\r\n\t\t}\r\n\r\n\t\tif (trailingIcon) {\r\n\t\t\tbuttons.push(\r\n\t\t\t\t<m.span\r\n\t\t\t\t\tkey=\"trailing\"\r\n\t\t\t\t\tclassName=\"text-muted-foreground shrink-0\"\r\n\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t{trailingIcon}\r\n\t\t\t\t</m.span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn buttons;\r\n\t}, [\r\n\t\tsizeStyles.iconSize,\r\n\t\tenableHistory,\r\n\t\tshowHistoryButtons,\r\n\t\tcanUndo,\r\n\t\tcanRedo,\r\n\t\thandleUndo,\r\n\t\thandleRedo,\r\n\t\tisLoading,\r\n\t\tisValidating,\r\n\t\tloadingProgress,\r\n\t\tvalidationState,\r\n\t\tshowClearButton,\r\n\t\thasValue,\r\n\t\tisDisabledOrLoading,\r\n\t\thandleClear,\r\n\t\tshowCopyButton,\r\n\t\thandleCopy,\r\n\t\tstate.copied,\r\n\t\tshowPasteButton,\r\n\t\thandlePasteButton,\r\n\t\tstate.pasted,\r\n\t\tshowPasswordToggle,\r\n\t\ttype,\r\n\t\ttogglePassword,\r\n\t\tstate.showPassword,\r\n\t\ttrailingIcon,\r\n\t\tstate.isFocused,\r\n\t]);\r\n\r\n\tconst progressBar = useMemo(() => {\r\n\t\tif (typeof validationProgress === \"number\") return <ValidationProgressBar progress={validationProgress} />;\r\n\r\n\t\tif (isLoading) return <LoadingProgressBar progress={loadingProgress} />;\r\n\t\treturn null;\r\n\t}, [validationProgress, isLoading, loadingProgress]);\r\n\r\n\tconst messagesArea = useMemo(() => {\r\n\t\tconst errorMsg = typeof error === \"string\" ? error : asyncError;\r\n\t\tconst warningMsg = typeof warning === \"string\" ? warning : null;\r\n\t\tconst successMsg = typeof success === \"string\" ? success : null;\r\n\r\n\t\tif (renderMessages) {\r\n\t\t\treturn renderMessages({\r\n\t\t\t\terror: errorMsg || undefined,\r\n\t\t\t\twarning: warningMsg || undefined,\r\n\t\t\t\tsuccess: successMsg || undefined,\r\n\t\t\t\thelper: helperText,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst message = errorMsg || warningMsg || successMsg || helperText;\r\n\t\tif (!message) return null;\r\n\r\n\t\tconst color = errorMsg ? \"text-red-500\" : warningMsg ? \"text-amber-500\" : successMsg ? \"text-green-500\" : \"text-muted-foreground\";\r\n\r\n\t\tconst isError = !!errorMsg;\r\n\r\n\t\treturn (\r\n\t\t\t<m.p\r\n\t\t\t\tkey={message}\r\n\t\t\t\tid={messageId}\r\n\t\t\t\texit={{ opacity: 0, y: -4 }}\r\n\t\t\t\tanimate={{ opacity: 1, y: 0 }}\r\n\t\t\t\tinitial={{ opacity: 0, y: -4 }}\r\n\t\t\t\ttransition={{ duration: 0.15 }}\r\n\t\t\t\trole={isError ? \"alert\" : undefined}\r\n\t\t\t\tclassName={cn(\"text-xs mt-1.5\", color)}\r\n\t\t\t\taria-live={isError ? \"assertive\" : \"polite\"}>\r\n\t\t\t\t{message}\r\n\t\t\t</m.p>\r\n\t\t);\r\n\t}, [error, asyncError, warning, success, helperText, renderMessages, messageId]);\r\n\r\n\tconst bottomSection = useMemo(() => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{state.clipboardError && <ClipboardErrorMessage message={state.clipboardError} onDismiss={handleDismissClipboardError} />}\r\n\t\t\t\t{showCharacterCount && maxCharacters && (\r\n\t\t\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t\t\t<div className=\"flex justify-end mt-1.5\">\r\n\t\t\t\t\t\t\t<CharacterCounter current={controlledValue.length} max={maxCharacters} limit={limit} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t)}\r\n\t\t\t\t{messagesArea}\r\n\t\t\t\t{showPasswordStrength && type === \"password\" && (\r\n\t\t\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t\t\t<PasswordStrengthMeter strength={passwordStrength} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t)}\r\n\t\t\t\t{showRequirements && passwordRequirements && (\r\n\t\t\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t\t\t<RequirementsList requirements={passwordRequirements} value={controlledValue} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"relative\">\r\n\t\t\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t\t\t<SuggestionsDropdown\r\n\t\t\t\t\t\t\tinputId={inputId}\r\n\t\t\t\t\t\t\tisOpen={state.showSuggestions}\r\n\t\t\t\t\t\t\tsuggestions={filteredSuggestions}\r\n\t\t\t\t\t\t\tonSelect={handleSuggestionSelect}\r\n\t\t\t\t\t\t\tactiveIndex={state.activeSuggestionIndex}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}, [\r\n\t\tstate.clipboardError,\r\n\t\thandleDismissClipboardError,\r\n\t\tshowCharacterCount,\r\n\t\tmaxCharacters,\r\n\t\tcontrolledValue,\r\n\t\tlimit,\r\n\t\tmessagesArea,\r\n\t\tshowPasswordStrength,\r\n\t\ttype,\r\n\t\tpasswordStrength,\r\n\t\tshowRequirements,\r\n\t\tpasswordRequirements,\r\n\t\tfilteredSuggestions,\r\n\t\tstate.showSuggestions,\r\n\t\tstate.activeSuggestionIndex,\r\n\t\thandleSuggestionSelect,\r\n\t\tinputId,\r\n\t]);\r\n\r\n\tconst commonAriaProps = useMemo(\r\n\t\t() => ({\r\n\t\t\t\"aria-describedby\": messageId,\r\n\t\t\t\"aria-busy\": isLoading || isValidating,\r\n\t\t\t\"aria-invalid\": validationState === \"error\",\r\n\t\t\t\"aria-controls\": suggestions?.length ? listboxId : undefined,\r\n\t\t\t\"aria-autocomplete\": suggestions?.length ? (\"list\" as const) : undefined,\r\n\t\t\t\"aria-activedescendant\":\r\n\t\t\t\tstate.showSuggestions && state.activeSuggestionIndex >= 0 ? `${inputId}-option-${state.activeSuggestionIndex}` : undefined,\r\n\t\t}),\r\n\t\t[\r\n\t\t\tvalidationState,\r\n\t\t\tmessageId,\r\n\t\t\tisLoading,\r\n\t\t\tisValidating,\r\n\t\t\tsuggestions?.length,\r\n\t\t\tlistboxId,\r\n\t\t\tstate.showSuggestions,\r\n\t\t\tstate.activeSuggestionIndex,\r\n\t\t\tinputId,\r\n\t\t]\r\n\t);\r\n\r\n\t// Shared input container content\r\n\tconst inputContent = useMemo(\r\n\t\t() => (\r\n\t\t\t<>\r\n\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\t\t\t\t{prefix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{prefix}</span>}\r\n\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t<m.span\r\n\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t</m.span>\r\n\t\t\t\t)}\r\n\t\t\t\t<input\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\tid={inputId}\r\n\t\t\t\t\ttype={inputType}\r\n\t\t\t\t\tref={setInputRef}\r\n\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\tstyle={{ direction }}\r\n\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tclassName={inputClasses}\r\n\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\taria-required={props.required}\r\n\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\tplaceholder={isFloating || labelPosition === \"outside-top\" ? placeholder : \"\"}\r\n\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t/>\r\n\t\t\t\t{suffix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{suffix}</span>}\r\n\t\t\t\t{actionButtons}\r\n\t\t\t\t{progressBar}\r\n\t\t\t</>\r\n\t\t),\r\n\t\t[\r\n\t\t\tripples,\r\n\t\t\tremoveRipple,\r\n\t\t\tstate.showPasteFlash,\r\n\t\t\tprefix,\r\n\t\t\tleadingIcon,\r\n\t\t\tstate.isFocused,\r\n\t\t\tsetInputRef,\r\n\t\t\tinputId,\r\n\t\t\tname,\r\n\t\t\tinputType,\r\n\t\t\tdisplayValue,\r\n\t\t\tisDisabledOrLoading,\r\n\t\t\tisFloating,\r\n\t\t\tlabelPosition,\r\n\t\t\tplaceholder,\r\n\t\t\tinputClasses,\r\n\t\t\tdirection,\r\n\t\t\thandleChange,\r\n\t\t\thandleFocus,\r\n\t\t\thandleBlur,\r\n\t\t\thandlePaste,\r\n\t\t\thandleCopyPrevention,\r\n\t\t\thandleDoubleClick,\r\n\t\t\thandleKeyDown,\r\n\t\t\tautoCapitalize,\r\n\t\t\tcommonAriaProps,\r\n\t\t\tsuffix,\r\n\t\t\tactionButtons,\r\n\t\t\tprogressBar,\r\n\t\t]\r\n\t);\r\n\r\n\t// ========================================================================\r\n\t// MULTILINE TEXTAREA\r\n\t// ========================================================================\r\n\tif (multiline) {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t<OutsideTopLabel\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\tisFocused={state.isFocused}\r\n\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={cn(containerClasses, \"h-auto min-h-20 items-start py-3\")}\r\n\t\t\t\t\t\t\tonClick={handleContainerClick}\r\n\t\t\t\t\t\t\t{...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\t\t\t\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 mt-0.5 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t\t\t\t</m.span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tref={setTextareaRef}\r\n\t\t\t\t\t\t\t\tid={inputId}\r\n\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\trows={rows}\r\n\t\t\t\t\t\t\t\tmaxLength={maxCharacters}\r\n\t\t\t\t\t\t\t\tclassName={cn(inputClasses, \"py-0 min-h-full\", {\r\n\t\t\t\t\t\t\t\t\t\"resize-none\": resize === \"none\",\r\n\t\t\t\t\t\t\t\t\t\"resize-y\": resize === \"vertical\",\r\n\t\t\t\t\t\t\t\t\t\"resize-x\": resize === \"horizontal\",\r\n\t\t\t\t\t\t\t\t\tresize: resize === \"both\",\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tstyle={{ direction, maxHeight: maxRows ? `${maxRows * 1.5}em` : undefined }}\r\n\t\t\t\t\t\t\t\tonKeyDown={handleKeyDown as KeyboardEventHandler<HTMLTextAreaElement>}\r\n\t\t\t\t\t\t\t\tonChange={handleChange as ChangeEventHandler<HTMLTextAreaElement>}\r\n\t\t\t\t\t\t\t\tonFocus={handleFocus as FocusEventHandler<HTMLTextAreaElement>}\r\n\t\t\t\t\t\t\t\tonBlur={handleBlur as FocusEventHandler<HTMLTextAreaElement>}\r\n\t\t\t\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{actionButtons}\r\n\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// OUTSIDE-TOP LABEL\r\n\t// ========================================================================\r\n\tif (labelPosition === \"outside-top\") {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t<OutsideTopLabel\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\tisFocused={state.isFocused}\r\n\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={containerClasses} onClick={handleContainerClick} {...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t{inputContent}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// OUTSIDE / OUTSIDE-BORDER LABEL\r\n\t// ========================================================================\r\n\tif (labelPosition === \"outside\" || labelPosition === \"outside-border\") {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t<div className={cn(containerClasses, \"relative mt-7\")} onClick={handleContainerClick} {...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\r\n\t\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t\t<OutsideLabel\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\t\tisFloating={shouldFloat}\r\n\t\t\t\t\t\t\t\t\tisFocused={state.isFocused}\r\n\t\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\t\thasLeadingIcon={!!leadingIcon}\r\n\t\t\t\t\t\t\t\t\thasPrefix={!!prefix}\r\n\t\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t\t\tsizeClass={sizeStyles.text}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t\t\t\t</m.span>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{prefix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{prefix}</span>}\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tref={setInputRef}\r\n\t\t\t\t\t\t\t\tid={inputId}\r\n\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\ttype={inputType}\r\n\t\t\t\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\t\t\t\tplaceholder={shouldFloat ? placeholder : \"\"}\r\n\t\t\t\t\t\t\t\tclassName={inputClasses}\r\n\t\t\t\t\t\t\t\tstyle={{ direction }}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t{suffix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{suffix}</span>}\r\n\t\t\t\t\t\t\t{actionButtons}\r\n\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// OUTSIDE-LEFT LABEL\r\n\t// ========================================================================\r\n\tif (labelPosition === \"outside-left\") {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\r\n\t\t\t\t\t\t\t{label && <OutsideLeftLabel label={label} htmlFor={inputId} isFocused={state.isFocused} colorClass={getLabelColor()} />}\r\n\t\t\t\t\t\t\t<div className={cn(containerClasses, \"flex-1\")} onClick={handleContainerClick} {...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t\t{inputContent}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// STACKED LABEL\r\n\t// ========================================================================\r\n\tif (labelPosition === \"stacked\") {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={cn(containerClasses, \"h-auto py-2.5 flex-col items-stretch\")}\r\n\t\t\t\t\t\t\tonClick={handleContainerClick}\r\n\t\t\t\t\t\t\t{...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 w-full\">\r\n\t\t\t\t\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t\t\t\t\t</m.span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"flex-1 flex flex-col min-w-0\">\r\n\t\t\t\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t\t\t\t<StackedLabel\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\t\t\t\tisFloating={isFloating}\r\n\t\t\t\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tref={setInputRef}\r\n\t\t\t\t\t\t\t\t\t\tid={inputId}\r\n\t\t\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\t\t\ttype={inputType}\r\n\t\t\t\t\t\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={isFloating ? placeholder : \"\"}\r\n\t\t\t\t\t\t\t\t\t\tclassName={cn(inputClasses, \"py-0\")}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ direction }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\t\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\t\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{suffix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{suffix}</span>}\r\n\t\t\t\t\t\t\t\t{actionButtons}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// LEFT LABEL\r\n\t// ========================================================================\r\n\tif (labelPosition === \"left\") {\r\n\t\treturn (\r\n\t\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t\t<LeftAnimatedLabel\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\t\tisFloating={isFloating}\r\n\t\t\t\t\t\t\t\t\tisFocused={state.isFocused}\r\n\t\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\t\tshowPlaceholder={!isFloating}\r\n\t\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className={cn(containerClasses, \"flex-1\")} onClick={handleContainerClick} {...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\t\t\t\t\t\t\t\t{prefix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{prefix}</span>}\r\n\t\t\t\t\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t\t\t\t\t</m.span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"relative flex-1 min-w-0\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tref={setInputRef}\r\n\t\t\t\t\t\t\t\t\t\tid={inputId}\r\n\t\t\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\t\t\ttype={inputType}\r\n\t\t\t\t\t\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={isFloating ? placeholder : \"\"}\r\n\t\t\t\t\t\t\t\t\t\tclassName={cn(inputClasses, \"py-0\")}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ direction }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\t\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\t\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{suffix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{suffix}</span>}\r\n\t\t\t\t\t\t\t\t{actionButtons}\r\n\t\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{bottomSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LazyMotion>\r\n\t\t\t</MotionConfig>\r\n\t\t);\r\n\t}\r\n\r\n\t// ========================================================================\r\n\t// INSIDE LABEL (Default)\r\n\t// ========================================================================\r\n\treturn (\r\n\t\t<MotionConfig reducedMotion=\"user\">\r\n\t\t\t<LazyMotion features={animationFeatures} strict>\r\n\t\t\t\t<div ref={containerRef} className={cn(\"w-full\", className)}>\r\n\t\t\t\t\t<div className={cn(containerClasses, label && \"pt-7 pb-3\")} onClick={handleContainerClick} {...(onLongPress ? longPressHandlers : {})}>\r\n\t\t\t\t\t\t<RippleContainer ripples={ripples} onComplete={removeRipple} />\r\n\t\t\t\t\t\t<PasteFlash show={state.showPasteFlash} />\r\n\r\n\t\t\t\t\t\t{label && (\r\n\t\t\t\t\t\t\t<InsideLabel\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t\t\t\t\tisFloating={isFloating}\r\n\t\t\t\t\t\t\t\tisFocused={state.isFocused}\r\n\t\t\t\t\t\t\t\tcolorClass={getLabelColor()}\r\n\t\t\t\t\t\t\t\thasLeadingIcon={!!leadingIcon}\r\n\t\t\t\t\t\t\t\thasPrefix={!!prefix}\r\n\t\t\t\t\t\t\t\tshouldReduceMotion={shouldReduceMotion ?? false}\r\n\t\t\t\t\t\t\t\tsizeClass={sizeStyles.text}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{prefix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{prefix}</span>}\r\n\t\t\t\t\t\t{leadingIcon && (\r\n\t\t\t\t\t\t\t<m.span\r\n\t\t\t\t\t\t\t\tclassName={cn(\"text-muted-foreground shrink-0 transition-colors\", state.isFocused && \"text-foreground\")}\r\n\t\t\t\t\t\t\t\tanimate={{ scale: state.isFocused ? 1.05 : 1 }}\r\n\t\t\t\t\t\t\t\ttransition={{ duration: 0.15 }}>\r\n\t\t\t\t\t\t\t\t{leadingIcon}\r\n\t\t\t\t\t\t\t</m.span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tref={setInputRef}\r\n\t\t\t\t\t\t\tid={inputId}\r\n\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\ttype={inputType}\r\n\t\t\t\t\t\t\tvalue={displayValue}\r\n\t\t\t\t\t\t\tdisabled={isDisabledOrLoading}\r\n\t\t\t\t\t\t\tplaceholder={isFloating ? placeholder : \"\"}\r\n\t\t\t\t\t\t\tclassName={inputClasses}\r\n\t\t\t\t\t\t\tstyle={{ direction }}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\tonPaste={handlePaste}\r\n\t\t\t\t\t\t\tonCopy={handleCopyPrevention}\r\n\t\t\t\t\t\t\tonDoubleClick={handleDoubleClick}\r\n\t\t\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\t\t\tautoCapitalize={autoCapitalize}\r\n\t\t\t\t\t\t\t{...commonAriaProps}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{suffix && <span className=\"text-muted-foreground text-sm shrink-0 select-none\">{suffix}</span>}\r\n\t\t\t\t\t\t{actionButtons}\r\n\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{bottomSection}\r\n\t\t\t\t</div>\r\n\t\t\t</LazyMotion>\r\n\t\t</MotionConfig>\r\n\t);\r\n}\r\n\r\nexport default memo(function AnimatedInput(props: AnimatedInputProps): ReactNode {\r\n\treturn (\r\n\t\t<AnimatedInputErrorBoundary\r\n\t\t\tfallbackInputProps={{\r\n\t\t\t\tdefaultValue: props.defaultValue as string,\r\n\t\t\t\tplaceholder: props.placeholder,\r\n\t\t\t\tdisabled: props.disabled,\r\n\t\t\t\ttype: props.type,\r\n\t\t\t\tname: props.name,\r\n\t\t\t\tid: props.id,\r\n\t\t\t}}>\r\n\t\t\t<InputInner {...props} />\r\n\t\t</AnimatedInputErrorBoundary>\r\n\t);\r\n});\r\n","\"use client\";\r\n\r\nimport { type MouseEvent, useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useAnimate } from \"motion/react\";\r\nimport {\r\n\tSHAKE_ANIMATION,\r\n\tSHAKE_TRANSITION,\r\n\tSHAKE_FLASH_COLORS,\r\n\tSUCCESS_SHAKE_ANIMATION,\r\n\tSUCCESS_SHAKE_TRANSITION,\r\n\tLONG_PRESS_SHAKE_ANIMATION,\r\n\tLONG_PRESS_SHAKE_TRANSITION,\r\n} from \"./constants\";\r\n\r\nimport type { HistoryState } from \"./types\";\r\n\r\n/**\r\n * Manages undo/redo history for input values with an immutable state structure.\r\n *\r\n * @param {string} initialValue - The initial value for the history state\r\n * @returns History management functions and state\r\n * @returns {Function} returns.undo - Reverts to the previous value in history\r\n * @returns {Function} returns.redo - Advances to the next value in history\r\n * @returns {HistoryState} returns.history - Current history state containing past, present, and future values\r\n * @returns {Function} returns.pushHistory - Adds a new value to history\r\n * @returns {boolean} returns.canUndo - Whether undo operation is available\r\n * @returns {boolean} returns.canRedo - Whether redo operation is available\r\n *\r\n * @example\r\n * const { undo, redo, pushHistory, canUndo, canRedo } = useHistory(\"\");\r\n * pushHistory(\"new value\");\r\n * if (canUndo) undo();\r\n */\r\nexport function useHistory(initialValue: string) {\r\n\tconst [history, setHistory] = useState<HistoryState>({ past: [], future: [], present: initialValue });\r\n\r\n\tconst pushHistory = useCallback((newValue: string) => {\r\n\t\tsetHistory((prev) => ({ past: [...prev.past, prev.present], present: newValue, future: [] }));\r\n\t}, []);\r\n\r\n\tconst undo = useCallback(() => {\r\n\t\tsetHistory((prev) => {\r\n\t\t\tif (prev.past.length === 0) return prev;\r\n\t\t\tconst newPast = [...prev.past];\r\n\t\t\tconst newPresent = newPast.pop()!;\r\n\t\t\treturn { past: newPast, present: newPresent, future: [prev.present, ...prev.future] };\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst redo = useCallback(() => {\r\n\t\tsetHistory((prev) => {\r\n\t\t\tif (prev.future.length === 0) return prev;\r\n\t\t\tconst newFuture = [...prev.future];\r\n\t\t\tconst newPresent = newFuture.shift()!;\r\n\t\t\treturn { past: [...prev.past, prev.present], present: newPresent, future: newFuture };\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn { undo, redo, history, pushHistory, canUndo: history.past.length > 0, canRedo: history.future.length > 0 };\r\n}\r\n\r\n/**\r\n * Manages shake animations with haptic feedback for input validation states.\r\n * Provides error, success, and long-press shake animations with visual feedback.\r\n *\r\n * @param {boolean} hasError - Whether the input currently has an error state\r\n * @param {boolean} hasSuccess - Whether the input currently has a success state\r\n * @param {boolean} enableHaptics - Whether to enable haptic feedback (vibration)\r\n * @returns Shake animation controls and ref\r\n * @returns {React.RefObject} returns.containerRef - Ref to attach to the animated container element\r\n * @returns {Function} returns.triggerShake - Manually trigger an error shake animation\r\n * @returns {Function} returns.triggerSuccessShake - Manually trigger a success shake animation\r\n * @returns {Function} returns.triggerLongPressShake - Manually trigger a long-press shake animation\r\n *\r\n * @remarks\r\n * - Animations automatically trigger when hasError or hasSuccess changes from false to true\r\n * - Prevents overlapping animations using an internal lock\r\n * - Applies colored shadows and backgrounds during animations\r\n * - Haptic patterns vary by animation type (error: [15, 30, 15], success: 8, longpress: [10, 20, 10])\r\n *\r\n * @example\r\n * const { containerRef, triggerShake } = useShakeAnimation(hasError, hasSuccess, true);\r\n * return <div ref={containerRef}>...</div>;\r\n */\r\nexport function useShakeAnimation(hasError: boolean, hasSuccess: boolean, enableHaptics: boolean) {\r\n\tconst [scope, animate] = useAnimate();\r\n\r\n\t// Track previous states to detect transitions\r\n\tconst lastSuccessRef = useRef<boolean>(false);\r\n\tconst lastErrorRef = useRef<boolean>(false);\r\n\tconst isAnimatingRef = useRef(false);\r\n\tconst mountedRef = useRef(false);\r\n\r\n\tconst performShake = useCallback(\r\n\t\tasync (type: \"error\" | \"success\" | \"longpress\") => {\r\n\t\t\tif (!scope.current || isAnimatingRef.current) return;\r\n\r\n\t\t\tisAnimatingRef.current = true;\r\n\t\t\tconst element = scope.current as HTMLElement;\r\n\r\n\t\t\t// Define animation configurations\r\n\t\t\tconst configs = {\r\n\t\t\t\terror: {\r\n\t\t\t\t\tvibration: [15, 30, 15] as Array<number>,\r\n\t\t\t\t\tcolors: SHAKE_FLASH_COLORS.error,\r\n\t\t\t\t\ttransition: SHAKE_TRANSITION,\r\n\t\t\t\t\tanimation: SHAKE_ANIMATION,\r\n\t\t\t\t\tresetDuration: 0.15,\r\n\t\t\t\t\ttransitionTime: 300,\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: {\r\n\t\t\t\t\ttransition: SUCCESS_SHAKE_TRANSITION,\r\n\t\t\t\t\tcolors: SHAKE_FLASH_COLORS.success,\r\n\t\t\t\t\tanimation: SUCCESS_SHAKE_ANIMATION,\r\n\t\t\t\t\tvibration: [8] as Array<number>,\r\n\t\t\t\t\tresetDuration: 0.15,\r\n\t\t\t\t\ttransitionTime: 350,\r\n\t\t\t\t},\r\n\t\t\t\tlongpress: {\r\n\t\t\t\t\tvibration: [10, 20, 10] as Array<number>,\r\n\t\t\t\t\ttransition: LONG_PRESS_SHAKE_TRANSITION,\r\n\t\t\t\t\tanimation: LONG_PRESS_SHAKE_ANIMATION,\r\n\t\t\t\t\tcolors: SHAKE_FLASH_COLORS.longpress,\r\n\t\t\t\t\tresetDuration: 0.12,\r\n\t\t\t\t\ttransitionTime: 250,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst config = configs[type];\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Apply haptic feedback\r\n\t\t\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(config.vibration);\r\n\r\n\t\t\t\t// Apply visual effects\r\n\t\t\t\telement.style.boxShadow = config.colors.shadow;\r\n\t\t\t\telement.style.backgroundColor = config.colors.bg;\r\n\r\n\t\t\t\t// Perform shake animation\r\n\t\t\t\tawait animate(element, config.animation as never, {\r\n\t\t\t\t\tease: config.transition.ease as [number, number, number, number],\r\n\t\t\t\t\tduration: config.transition.duration,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Reset position/scale\r\n\t\t\t\tawait animate(element, { x: 0, y: 0, scale: 1 }, { duration: config.resetDuration, ease: [0.22, 1, 0.36, 1] });\r\n\r\n\t\t\t\t// Fade out visual effects\r\n\t\t\t\telement.style.transition = `box-shadow ${config.transitionTime}ms ease-out, background-color ${config.transitionTime}ms ease-out`;\r\n\t\t\t\telement.style.backgroundColor = \"transparent\";\r\n\t\t\t\telement.style.boxShadow = \"none\";\r\n\r\n\t\t\t\t// Clean up transition property after animation completes\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (element) element.style.transition = \"\";\r\n\t\t\t\t}, config.transitionTime + 50);\r\n\t\t\t} finally {\r\n\t\t\t\tisAnimatingRef.current = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[scope, animate, enableHaptics]\r\n\t);\r\n\r\n\t// Auto-trigger error shake on error state change\r\n\tuseEffect(() => {\r\n\t\tif (!mountedRef.current) {\r\n\t\t\tmountedRef.current = true;\r\n\t\t\tlastErrorRef.current = hasError;\r\n\t\t\tlastSuccessRef.current = hasSuccess;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (hasError && !lastErrorRef.current) performShake(\"error\");\r\n\r\n\t\tlastErrorRef.current = hasError;\r\n\t}, [hasError, performShake]);\r\n\r\n\t// Auto-trigger success shake on success state change\r\n\tuseEffect(() => {\r\n\t\tif (!mountedRef.current) return;\r\n\r\n\t\tif (hasSuccess && !lastSuccessRef.current) performShake(\"success\");\r\n\r\n\t\tlastSuccessRef.current = hasSuccess;\r\n\t}, [hasSuccess, performShake]);\r\n\r\n\treturn {\r\n\t\tcontainerRef: scope,\r\n\t\ttriggerShake: useCallback(() => performShake(\"error\"), [performShake]),\r\n\t\ttriggerSuccessShake: useCallback(() => performShake(\"success\"), [performShake]),\r\n\t\ttriggerLongPressShake: useCallback(() => performShake(\"longpress\"), [performShake]),\r\n\t};\r\n}\r\n\r\n/**\r\n * Manages asynchronous validation with debouncing, timeout handling, and abort control.\r\n * Prevents race conditions and handles validation timeouts gracefully.\r\n *\r\n * @param {Function} [asyncValidate] - Async validation function that returns an error message or null\r\n * @param {number} [debounceMs=500] - Debounce delay in milliseconds before triggering validation\r\n * @param {number} [timeoutMs=10000] - Maximum time to wait for validation before timing out\r\n * @returns Validation state and control functions\r\n * @returns returns.asyncError - Current async validation error message\r\n * @returns returns.isValidating - Whether validation is currently in progress\r\n * @returns returns.validate - Immediately validate a value without debouncing\r\n * @returns {Function} returns.validateDebounced - Validate a value with debouncing\r\n * @returns {Function} returns.clearError - Clear the current async error\r\n *\r\n * @remarks\r\n * - Automatically aborts previous validation requests when new ones are triggered\r\n * - Empty values skip validation and clear errors\r\n * - Validation requests that exceed timeoutMs will be aborted with a timeout error\r\n * - All pending operations are cleaned up on unmount\r\n *\r\n * @example\r\n * const { asyncError, isValidating, validateDebounced } = useAsyncValidation(\r\n *   async (value) => value.includes(\"banned\") ? \"Invalid input\" : null,\r\n *   500,\r\n *   10000\r\n * );\r\n */\r\nexport function useAsyncValidation(\r\n\tasyncValidate: ((value: string) => Promise<string | null>) | undefined,\r\n\tdebounceMs: number = 500,\r\n\ttimeoutMs: number = 10000\r\n) {\r\n\tconst [asyncError, setAsyncError] = useState<string | null>(null);\r\n\tconst [isValidating, setIsValidating] = useState(false);\r\n\tconst abortControllerRef = useRef<AbortController | null>(null);\r\n\tconst debounceTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\tconst validationTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n\tconst validateAsync = useCallback(\r\n\t\tasync (value: string) => {\r\n\t\t\tif (!asyncValidate) {\r\n\t\t\t\tsetAsyncError(null);\r\n\t\t\t\tsetIsValidating(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!value) {\r\n\t\t\t\tsetAsyncError(null);\r\n\t\t\t\tsetIsValidating(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Abort previous validation\r\n\t\t\tif (abortControllerRef.current) abortControllerRef.current.abort();\r\n\r\n\t\t\t// Clear previous validation timeout\r\n\t\t\tif (validationTimeoutRef.current) clearTimeout(validationTimeoutRef.current);\r\n\r\n\t\t\tabortControllerRef.current = new AbortController();\r\n\t\t\tsetIsValidating(true);\r\n\r\n\t\t\t// Create timeout promise\r\n\t\t\tconst timeoutPromise = new Promise<string | null>((_, reject) => {\r\n\t\t\t\tvalidationTimeoutRef.current = setTimeout(() => reject(new Error(\"Validation timeout\")), timeoutMs);\r\n\t\t\t});\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst error = await Promise.race([asyncValidate(value), timeoutPromise]);\r\n\t\t\t\tif (validationTimeoutRef.current) clearTimeout(validationTimeoutRef.current);\r\n\t\t\t\tsetAsyncError(error);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tif ((err as Error).name !== \"AbortError\") {\r\n\t\t\t\t\tif ((err as Error).message === \"Validation timeout\") setAsyncError(\"Validation timed out. Please try again.\");\r\n\t\t\t\t\telse console.error(\"Async validation error:\", err);\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tsetIsValidating(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[asyncValidate, timeoutMs]\r\n\t);\r\n\r\n\tconst validateDebounced = useCallback(\r\n\t\t(value: string) => {\r\n\t\t\t// Clear previous debounce timeout\r\n\t\t\tif (debounceTimeoutRef.current) clearTimeout(debounceTimeoutRef.current);\r\n\r\n\t\t\tif (!value) {\r\n\t\t\t\tsetAsyncError(null);\r\n\t\t\t\tsetIsValidating(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If no debounce, validate immediately\r\n\t\t\tif (debounceMs <= 0) validateAsync(value);\r\n\t\t\telse {\r\n\t\t\t\tsetIsValidating(true);\r\n\t\t\t\tdebounceTimeoutRef.current = setTimeout(() => validateAsync(value), debounceMs);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[validateAsync, debounceMs]\r\n\t);\r\n\r\n\t// Cleanup on unmount\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (debounceTimeoutRef.current) clearTimeout(debounceTimeoutRef.current);\r\n\t\t\tif (validationTimeoutRef.current) clearTimeout(validationTimeoutRef.current);\r\n\t\t\tif (abortControllerRef.current) abortControllerRef.current.abort();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn {\r\n\t\tasyncError,\r\n\t\tisValidating,\r\n\t\tvalidateAsync,\r\n\t\tvalidateDebounced,\r\n\t\tclearError: useCallback(() => setAsyncError(null), []),\r\n\t};\r\n}\r\n\r\n/**\r\n * Handles long-press interactions with customizable delay and cleanup.\r\n * Supports both mouse and touch events for cross-device compatibility.\r\n *\r\n * @param {Function} [onLongPress] - Callback function to execute after long press completes\r\n * @param {Function} getValue - Function that returns the current value to pass to onLongPress\r\n * @param {number} [delay=500] - Duration in milliseconds to hold before triggering long press\r\n * @returns {Object} Long press event handlers\r\n * @returns {Object} returns.handlers - Object containing event handler props to spread on element\r\n * @returns {Function} returns.handlers.onMouseDown - Mouse down handler to start long press\r\n * @returns {Function} returns.handlers.onMouseUp - Mouse up handler to cancel long press\r\n * @returns {Function} returns.handlers.onMouseLeave - Mouse leave handler to cancel long press\r\n * @returns {Function} returns.handlers.onTouchStart - Touch start handler to start long press\r\n * @returns {Function} returns.handlers.onTouchEnd - Touch end handler to cancel long press\r\n *\r\n * @remarks\r\n * - Long press is cancelled if the user releases or moves away before delay completes\r\n * - Automatically cleans up pending timeouts on unmount\r\n * - If onLongPress is undefined, all handlers become no-ops\r\n *\r\n * @example\r\n * const { handlers } = useLongPress(\r\n *   (value) => console.log(\"Long pressed:\", value),\r\n *   () => inputValue,\r\n *   500\r\n * );\r\n * return <button {...handlers}>Hold me</button>;\r\n */\r\nexport function useLongPress(onLongPress: ((value: string) => void) | undefined, getValue: () => string, delay = 500) {\r\n\tconst timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n\tconst start = useCallback(() => {\r\n\t\tif (!onLongPress) return;\r\n\t\ttimeoutRef.current = setTimeout(() => onLongPress(getValue()), delay);\r\n\t}, [onLongPress, getValue, delay]);\r\n\r\n\tconst stop = useCallback(() => {\r\n\t\tif (timeoutRef.current) {\r\n\t\t\tclearTimeout(timeoutRef.current);\r\n\t\t\ttimeoutRef.current = null;\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// Cleanup on unmount\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn {\r\n\t\thandlers: {\r\n\t\t\tonMouseDown: start,\r\n\t\t\tonMouseUp: stop,\r\n\t\t\tonMouseLeave: stop,\r\n\t\t\tonTouchStart: start,\r\n\t\t\tonTouchEnd: stop,\r\n\t\t},\r\n\t};\r\n}\r\n\r\n/**\r\n * Manages ripple effect animations with optional haptic feedback.\r\n * Creates expanding circle animations from click/touch positions with automatic cleanup.\r\n *\r\n * @param {boolean} enableRipple - Whether ripple effects are enabled\r\n * @param {boolean} enableHaptics - Whether to trigger haptic feedback on ripple\r\n * @returns Ripple state and control functions\r\n * @returns {Array} returns.ripples - Array of active ripple objects with position and size data\r\n * @returns {Function} returns.addRipple - Create a new ripple at the mouse/touch position\r\n * @returns {Function} returns.removeRipple - Remove a ripple by its ID (called after animation completes)\r\n *\r\n * @remarks\r\n * - Limits to maximum of 4 concurrent ripples for performance (keeps last 3 + new one)\r\n * - Ripple size is calculated as 2.5x the largest container dimension\r\n * - Each ripple has a unique timestamp-based ID for tracking\r\n * - Haptic feedback is a brief 3ms vibration (when enabled and supported)\r\n *\r\n * @example\r\n * const { ripples, addRipple, removeRipple } = useRipple(true, true);\r\n * return (\r\n *   <div onClick={addRipple}>\r\n *     {ripples.map((ripple) => (\r\n *       <Ripple key={ripple.id} {...ripple} onComplete={() => removeRipple(ripple.id)} />\r\n *     ))}\r\n *   </div>\r\n * );\r\n */\r\nexport function useRipple(enableRipple: boolean, enableHaptics: boolean) {\r\n\tconst [ripples, setRipples] = useState<Array<{ id: number; x: number; y: number; size: number }>>([]);\r\n\r\n\tconst addRipple = useCallback(\r\n\t\t({ currentTarget, clientX, clientY }: MouseEvent<HTMLDivElement>) => {\r\n\t\t\tif (!enableRipple) return;\r\n\r\n\t\t\tconst rect = currentTarget.getBoundingClientRect();\r\n\t\t\tconst x = clientX - rect.left;\r\n\t\t\tconst y = clientY - rect.top;\r\n\t\t\tconst size = Math.max(rect.width, rect.height) * 2.5;\r\n\r\n\t\t\t// Keep only last 3 ripples plus new one for performance\r\n\t\t\tsetRipples((prev) => [...prev.slice(-3), { id: Date.now(), x, y, size }]);\r\n\r\n\t\t\t// Trigger haptic feedback\r\n\t\t\tif (enableHaptics && typeof navigator !== \"undefined\" && navigator.vibrate) navigator.vibrate(3);\r\n\t\t},\r\n\t\t[enableRipple, enableHaptics]\r\n\t);\r\n\r\n\tconst removeRipple = useCallback((id: number) => setRipples((prev) => prev.filter((r) => r.id !== id)), []);\r\n\r\n\treturn { ripples, addRipple, removeRipple };\r\n}\r\n","import type { InputUIState, InputAction } from \"./types\";\n\n/**\n * The initial state for an input UI component.\n *\n * @constant\n * @type {InputUIState}\n */\nexport const initialInputState: InputUIState = {\n\tvalue: \"\",\n\tcopied: false,\n\tpasted: false,\n\tisFocused: false,\n\tisObscured: false,\n\tshowPassword: false,\n\tclipboardError: null,\n\tshowPasteFlash: false,\n\tshowSuggestions: false,\n\tactiveSuggestionIndex: 0,\n};\n\n/**\n * Creates a new initial input state with an optional default value.\n *\n * @param {string} [defaultValue=\"\"] - The default value for the input field\n * @returns {InputUIState} A new input state object with the specified default value\n *\n * @example\n * const state = createInitialState(\"example@email.com\");\n */\nexport function createInitialState(defaultValue: string = \"\"): InputUIState {\n\treturn { ...initialInputState, value: defaultValue };\n}\n\n/**\n * Reducer function for managing input UI state transitions.\n * Handles various actions related to input value changes, focus states, clipboard operations,\n * password visibility, suggestions, and user feedback.\n *\n * @param {InputUIState} state - The current input state\n * @param {InputAction} action - The action to process\n * @returns {InputUIState} The new input state after applying the action\n *\n * @example\n * const newState = inputReducer(currentState, { type: \"SET_VALUE\", payload: \"new value\" });\n *\n * @remarks\n * Supported action types:\n * - `SET_VALUE`: Updates the input value\n * - `SET_FOCUSED`: Sets the focus state\n * - `TOGGLE_PASSWORD`: Toggles password visibility\n * - `SET_COPIED`: Sets the copied state for clipboard feedback\n * - `SET_PASTED`: Sets the pasted state for clipboard feedback\n * - `SET_PASTE_FLASH`: Controls the paste flash animation\n * - `SET_SHOW_SUGGESTIONS`: Shows or hides suggestions\n * - `SET_ACTIVE_SUGGESTION`: Sets the active suggestion index\n * - `SET_OBSCURED`: Sets whether the input is obscured\n * - `SET_CLIPBOARD_ERROR`: Sets a clipboard error message\n * - `CLEAR_CLIPBOARD_ERROR`: Clears any clipboard error\n * - `FOCUS_INPUT`: Composite action that focuses input and shows suggestions\n * - `BLUR_INPUT`: Composite action that blurs input and hides suggestions\n * - `RESET_FEEDBACK`: Resets all user feedback states (copied, pasted, errors)\n */\nexport function inputReducer(state: InputUIState, action: InputAction): InputUIState {\n\tswitch (action.type) {\n\t\tcase \"SET_VALUE\":\n\t\t\treturn { ...state, value: action.payload };\n\t\tcase \"SET_FOCUSED\":\n\t\t\treturn { ...state, isFocused: action.payload };\n\t\tcase \"TOGGLE_PASSWORD\":\n\t\t\treturn { ...state, showPassword: !state.showPassword };\n\t\tcase \"SET_COPIED\":\n\t\t\treturn { ...state, copied: action.payload };\n\t\tcase \"SET_PASTED\":\n\t\t\treturn { ...state, pasted: action.payload };\n\t\tcase \"SET_PASTE_FLASH\":\n\t\t\treturn { ...state, showPasteFlash: action.payload };\n\t\tcase \"SET_SHOW_SUGGESTIONS\":\n\t\t\treturn { ...state, showSuggestions: action.payload };\n\t\tcase \"SET_ACTIVE_SUGGESTION\":\n\t\t\treturn { ...state, activeSuggestionIndex: action.payload };\n\t\tcase \"SET_OBSCURED\":\n\t\t\treturn { ...state, isObscured: action.payload };\n\t\tcase \"SET_CLIPBOARD_ERROR\":\n\t\t\treturn { ...state, clipboardError: action.payload };\n\t\tcase \"CLEAR_CLIPBOARD_ERROR\":\n\t\t\treturn { ...state, clipboardError: null };\n\t\tcase \"FOCUS_INPUT\":\n\t\t\treturn { ...state, isFocused: true, isObscured: false, clipboardError: null };\n\t\tcase \"BLUR_INPUT\":\n\t\t\treturn { ...state, isFocused: false, showSuggestions: false, activeSuggestionIndex: 0 };\n\t\tcase \"RESET_FEEDBACK\":\n\t\t\treturn { ...state, copied: false, pasted: false, showPasteFlash: false, clipboardError: null };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","\"use client\";\nimport { Component, type ComponentType, type ErrorInfo, type FC, type InputHTMLAttributes, type ReactNode } from \"react\";\n\n/**\n * State interface for the AnimatedInputErrorBoundary component.\n *\n * @interface ErrorBoundaryState\n * @property {boolean} hasError - Whether an error has been caught by the boundary\n * @property {Error | null} error - The error object that was caught, or null if no error\n */\ninterface ErrorBoundaryState {\n\thasError: boolean;\n\terror: Error | null;\n}\n\n/**\n * Props for the AnimatedInputErrorBoundary component.\n *\n * @interface AnimatedInputErrorBoundaryProps\n * @property {ReactNode} children - Child components to be wrapped by the error boundary\n * @property {ReactNode} [fallback] - Custom fallback UI to display when an error is caught\n * @property {InputHTMLAttributes<HTMLInputElement>} [fallbackInputProps] - Props to pass to the default fallback input element\n * @property {Function} [onError] - Callback function invoked when an error is caught\n */\ninterface AnimatedInputErrorBoundaryProps {\n\tchildren: ReactNode;\n\tfallback?: ReactNode;\n\tfallbackInputProps?: InputHTMLAttributes<HTMLInputElement>;\n\tonError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\n/**\n * Error boundary component specifically designed for AnimatedInput components.\n * Catches errors in child components and displays a fallback UI with recovery option.\n *\n * @class AnimatedInputErrorBoundary\n * @extends {Component<AnimatedInputErrorBoundaryProps, ErrorBoundaryState>}\n *\n * @remarks\n * - Provides a default fallback that renders a basic input with error message\n * - Includes a \"Try again\" button to reset the error state\n * - Calls optional onError callback for error logging/tracking\n * - Custom fallback UI can be provided via the fallback prop\n *\n * @example\n * <AnimatedInputErrorBoundary\n *   onError={(error, errorInfo) => logError(error)}\n *   fallbackInputProps={{ placeholder: \"Fallback input\" }}\n * >\n *   <AnimatedInput {...props} />\n * </AnimatedInputErrorBoundary>\n */\nexport class AnimatedInputErrorBoundary extends Component<AnimatedInputErrorBoundaryProps, ErrorBoundaryState> {\n\t/**\n\t * Creates an instance of AnimatedInputErrorBoundary.\n\t *\n\t * @param {AnimatedInputErrorBoundaryProps} props - Component props\n\t */\n\tconstructor(props: AnimatedInputErrorBoundaryProps) {\n\t\tsuper(props);\n\t\tthis.state = { hasError: false, error: null };\n\t}\n\n\t/**\n\t * Static lifecycle method called when an error is thrown in a child component.\n\t * Updates state to trigger the error UI.\n\t *\n\t * @static\n\t * @param {Error} error - The error that was thrown\n\t * @returns {ErrorBoundaryState} New state with error information\n\t */\n\tstatic getDerivedStateFromError(error: Error): ErrorBoundaryState {\n\t\treturn { hasError: true, error };\n\t}\n\n\t/**\n\t * Lifecycle method called after an error is caught.\n\t * Logs the error and invokes the optional onError callback.\n\t *\n\t * @param {Error} error - The error that was caught\n\t * @param {ErrorInfo} errorInfo - React error info with component stack\n\t */\n\tcomponentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n\t\tconsole.error(\"[AnimatedInput] Error caught by boundary:\", error, errorInfo);\n\t\tthis.props.onError?.(error, errorInfo);\n\t}\n\n\t/**\n\t * Resets the error boundary state, allowing the component to recover.\n\t * Called when the user clicks the \"Try again\" button.\n\t */\n\thandleReset = (): void => {\n\t\tthis.setState({ hasError: false, error: null });\n\t};\n\n\t/**\n\t * Renders either the children (when no error) or fallback UI (when error caught).\n\t *\n\t * @returns {ReactNode} The component tree or fallback UI\n\t */\n\trender(): ReactNode {\n\t\tif (this.state.hasError) {\n\t\t\tif (this.props.fallback) return this.props.fallback;\n\n\t\t\t// Default fallback: render a basic input with error message\n\t\t\tconst { fallbackInputProps } = this.props;\n\t\t\treturn (\n\t\t\t\t<div className=\"w-full space-y-2\">\n\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...fallbackInputProps}\n\t\t\t\t\t\t\tclassName=\"flex h-10 w-full rounded-md border border-destructive/50 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex items-center justify-between text-xs\">\n\t\t\t\t\t\t<span className=\"text-destructive\">Input component error. Using fallback.</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this.handleReset}\n\t\t\t\t\t\t\tclassName=\"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 rounded\">\n\t\t\t\t\t\t\tTry again\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\n/**\n * Higher-order component (HOC) that wraps any component with AnimatedInputErrorBoundary.\n * Provides automatic error boundary protection for input components.\n *\n * @template P - The props type of the wrapped component\n * @param {ComponentType<P>} WrappedComponent - The component to wrap with error boundary\n * @param {Omit<AnimatedInputErrorBoundaryProps, \"children\">} [errorBoundaryProps] - Props to pass to the error boundary\n * @returns {FC<P>} A new component wrapped with error boundary\n *\n * @remarks\n * - Automatically sets a displayName for better debugging\n * - The wrapped component receives all its original props\n * - Error boundary props are applied at the boundary level, not passed to wrapped component\n *\n * @example\n * const SafeAnimatedInput = withErrorBoundary(AnimatedInput, {\n *   onError: (error) => trackError(error),\n *   fallbackInputProps: { placeholder: \"Error occurred\" }\n * });\n *\n * // Use it like the original component\n * <SafeAnimatedInput value={value} onChange={onChange} />\n */\nexport function withErrorBoundary<P extends object>(\n\tWrappedComponent: ComponentType<P>,\n\terrorBoundaryProps?: Omit<AnimatedInputErrorBoundaryProps, \"children\">\n): FC<P> {\n\tconst WithErrorBoundary: FC<P> = (props) => {\n\t\treturn (\n\t\t\t<AnimatedInputErrorBoundary {...errorBoundaryProps}>\n\t\t\t\t<WrappedComponent {...props} />\n\t\t\t</AnimatedInputErrorBoundary>\n\t\t);\n\t};\n\n\tWithErrorBoundary.displayName = `WithErrorBoundary(${WrappedComponent.displayName || WrappedComponent.name || \"Component\"})`;\n\n\treturn WithErrorBoundary;\n}\n","\"use client\";\r\n\r\nimport { useRef, useCallback, useEffect } from \"react\";\r\n\r\n/**\r\n * Timer key identifier for type-safe timeout management.\r\n */\r\nexport type TimeoutKey = string;\r\n\r\n/**\r\n * Timeout callback function type.\r\n */\r\nexport type TimeoutCallback = () => void;\r\n\r\n/**\r\n * Delay in milliseconds for timeout.\r\n */\r\nexport type TimeoutDelay = number;\r\n\r\n/**\r\n * Configuration for batch timeout operations.\r\n */\r\nexport interface BatchTimeoutConfig {\r\n\t/** Timer key identifier */\r\n\tkey: TimeoutKey;\r\n\t/** Callback function to execute */\r\n\tcallback: TimeoutCallback;\r\n\t/** Delay in milliseconds */\r\n\tdelay: TimeoutDelay;\r\n}\r\n\r\n/**\r\n * Return type for useTimeoutManager hook.\r\n */\r\nexport interface UseTimeoutManagerReturn {\r\n\t/**\r\n\t * Set a timeout with the given key, callback, and delay.\r\n\t * If a timeout with the same key already exists, it will be cleared first.\r\n\t *\r\n\t * @param key - Unique identifier for the timeout\r\n\t * @param callback - Function to execute after the delay\r\n\t * @param delay - Delay in milliseconds (must be >= 0)\r\n\t * @throws {Error} If delay is negative\r\n\t *\r\n\t * @example\r\n\t * timeouts.set('debounce', () => console.log('debounced'), 300);\r\n\t */\r\n\tset: (key: TimeoutKey, callback: TimeoutCallback, delay: TimeoutDelay) => void;\r\n\r\n\t/**\r\n\t * Clear a specific timeout by key.\r\n\t *\r\n\t * @param key - The key of the timeout to clear\r\n\t *\r\n\t * @example\r\n\t * timeouts.clear('debounce');\r\n\t */\r\n\tclear: (key: TimeoutKey) => void;\r\n\r\n\t/**\r\n\t * Clear all active timeouts.\r\n\t *\r\n\t * @example\r\n\t * timeouts.clearAll();\r\n\t */\r\n\tclearAll: () => void;\r\n\r\n\t/**\r\n\t * Check if a timeout exists for the given key.\r\n\t *\r\n\t * @param key - The key to check\r\n\t * @returns true if a timeout exists, false otherwise\r\n\t *\r\n\t * @example\r\n\t * if (timeouts.has('debounce')) {\r\n\t *   // Timer is active\r\n\t * }\r\n\t */\r\n\thas: (key: TimeoutKey) => boolean;\r\n\r\n\t/**\r\n\t * Set multiple timeouts in a single operation.\r\n\t * All timeouts are cleared if any key already exists.\r\n\t *\r\n\t * @param configs - Array of timeout configurations\r\n\t *\r\n\t * @example\r\n\t * timeouts.setBatch([\r\n\t *   { key: 'flash', callback: () => hide(), delay: 500 },\r\n\t *   { key: 'feedback', callback: () => reset(), delay: 1500 }\r\n\t * ]);\r\n\t */\r\n\tsetBatch: (configs: readonly BatchTimeoutConfig[]) => void;\r\n\r\n\t/**\r\n\t * Clear multiple timeouts by their keys.\r\n\t *\r\n\t * @param keys - Array of keys to clear\r\n\t *\r\n\t * @example\r\n\t * timeouts.clearBatch(['flash', 'feedback', 'debounce']);\r\n\t */\r\n\tclearBatch: (keys: readonly TimeoutKey[]) => void;\r\n}\r\n\r\n/**\r\n * Centralized timeout manager hook that tracks all timeouts and ensures proper cleanup.\r\n * Prevents memory leaks by automatically clearing all timeouts on unmount.\r\n *\r\n * @returns Object with timeout management methods\r\n *\r\n * @example\r\n * ```typescript\r\n * const timeouts = useTimeoutManager();\r\n *\r\n * // Set a timeout\r\n * timeouts.set('debounce', () => console.log('debounced'), 300);\r\n *\r\n * // Check if exists\r\n * if (timeouts.has('debounce')) {\r\n *   console.log('Timer is active');\r\n * }\r\n *\r\n * // Clear a timeout\r\n * timeouts.clear('debounce');\r\n *\r\n * // Set multiple timeouts at once\r\n * timeouts.setBatch([\r\n *   { key: 'flash', callback: () => hide(), delay: 500 },\r\n *   { key: 'feedback', callback: () => reset(), delay: 1500 }\r\n * ]);\r\n *\r\n * // Clear multiple timeouts\r\n * timeouts.clearBatch(['flash', 'feedback']);\r\n *\r\n * // Clear all timeouts\r\n * timeouts.clearAll();\r\n * ```\r\n */\r\nexport function useTimeoutManager(): UseTimeoutManagerReturn {\r\n\tconst timersRef = useRef<Map<TimeoutKey, NodeJS.Timeout>>(new Map());\r\n\r\n\tconst set = useCallback((key: TimeoutKey, callback: TimeoutCallback, delay: TimeoutDelay): void => {\r\n\t\tif (delay < 0) {\r\n\t\t\tthrow new Error(`Timeout delay must be non-negative, received: ${delay}`);\r\n\t\t}\r\n\r\n\t\t// Clear existing timer with same key\r\n\t\tconst existing = timersRef.current.get(key);\r\n\t\tif (existing !== undefined) {\r\n\t\t\tclearTimeout(existing);\r\n\t\t}\r\n\r\n\t\t// Set new timer\r\n\t\tconst timer = setTimeout(() => {\r\n\t\t\ttimersRef.current.delete(key);\r\n\t\t\tcallback();\r\n\t\t}, delay);\r\n\r\n\t\ttimersRef.current.set(key, timer);\r\n\t}, []);\r\n\r\n\tconst clear = useCallback((key: TimeoutKey): void => {\r\n\t\tconst timer = timersRef.current.get(key);\r\n\t\tif (timer !== undefined) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimersRef.current.delete(key);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst clearAll = useCallback((): void => {\r\n\t\ttimersRef.current.forEach((timer) => {\r\n\t\t\tclearTimeout(timer);\r\n\t\t});\r\n\t\ttimersRef.current.clear();\r\n\t}, []);\r\n\r\n\tconst has = useCallback(\r\n\t\t(key: TimeoutKey): boolean => {\r\n\t\t\treturn timersRef.current.has(key);\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst setBatch = useCallback(\r\n\t\t(configs: readonly BatchTimeoutConfig[]): void => {\r\n\t\t\t// Clear any existing timers with the same keys first\r\n\t\t\tconfigs.forEach((config) => {\r\n\t\t\t\tclear(config.key);\r\n\t\t\t});\r\n\r\n\t\t\t// Set all new timers\r\n\t\t\tconfigs.forEach((config) => {\r\n\t\t\t\tset(config.key, config.callback, config.delay);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[clear, set]\r\n\t);\r\n\r\n\tconst clearBatch = useCallback(\r\n\t\t(keys: readonly TimeoutKey[]): void => {\r\n\t\t\tkeys.forEach((key) => {\r\n\t\t\t\tclear(key);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[clear]\r\n\t);\r\n\r\n\t// Cleanup on unmount\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tclearAll();\r\n\t\t};\r\n\t}, [clearAll]);\r\n\r\n\treturn { set, clear, clearAll, has, setBatch, clearBatch };\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback, type RefObject } from \"react\";\r\n\r\ninterface UseTouchGesturesProps {\r\n\tisOpen: boolean;\r\n\tisMobile: boolean;\r\n\tenableDragToClose: boolean;\r\n\tonClose: () => void;\r\n\tcontentRef: RefObject<HTMLDivElement | null>;\r\n}\r\n\r\n/**\r\n * Hook to handle touch gestures for mobile dropdown/picker components.\r\n * Provides drag-to-close functionality with scroll locking.\r\n *\r\n * @param props - Configuration for touch gestures\r\n * @param props.isOpen - Whether the component is currently open\r\n * @param props.isMobile - Whether the device is mobile\r\n * @param props.enableDragToClose - Whether drag-to-close is enabled\r\n * @param props.onClose - Callback when component should close\r\n * @param props.contentRef - Ref to the content element\r\n * @returns Object with dragging state\r\n *\r\n * @example\r\n * ```tsx\r\n * const { isDragging } = useTouchGestures({\r\n *   isOpen,\r\n *   isMobile,\r\n *   enableDragToClose: true,\r\n *   onClose: () => setIsOpen(false),\r\n *   contentRef\r\n * });\r\n * ```\r\n */\r\nexport function useTouchGestures({ isOpen, isMobile, enableDragToClose, onClose, contentRef }: UseTouchGesturesProps) {\r\n\tconst startY = useRef(0);\r\n\tconst currentY = useRef(0);\r\n\tconst isDragging = useRef(false);\r\n\tconst scrollLockRef = useRef<{ scrollY: number } | null>(null);\r\n\r\n\t// Lock body scroll on mobile when open\r\n\tuseEffect(() => {\r\n\t\tif (!isMobile || !isOpen) return;\r\n\r\n\t\tconst scrollY = window.scrollY;\r\n\t\tscrollLockRef.current = { scrollY };\r\n\r\n\t\tdocument.body.style.position = \"fixed\";\r\n\t\tdocument.body.style.top = `-${scrollY}px`;\r\n\t\tdocument.body.style.left = \"0\";\r\n\t\tdocument.body.style.right = \"0\";\r\n\t\tdocument.body.style.overflow = \"hidden\";\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.body.style.position = \"\";\r\n\t\t\tdocument.body.style.top = \"\";\r\n\t\t\tdocument.body.style.left = \"\";\r\n\t\t\tdocument.body.style.right = \"\";\r\n\t\t\tdocument.body.style.overflow = \"\";\r\n\r\n\t\t\tif (scrollLockRef.current) {\r\n\t\t\t\twindow.scrollTo(0, scrollLockRef.current.scrollY);\r\n\t\t\t\tscrollLockRef.current = null;\r\n\t\t\t}\r\n\t\t};\r\n\t}, [isMobile, isOpen]);\r\n\r\n\tconst handleTouchStart = useCallback(\r\n\t\t(e: TouchEvent) => {\r\n\t\t\tif (!enableDragToClose || !isMobile) return;\r\n\t\t\tstartY.current = e.touches[0].clientY;\r\n\t\t\tisDragging.current = true;\r\n\t\t},\r\n\t\t[enableDragToClose, isMobile]\r\n\t);\r\n\r\n\tconst handleTouchMove = useCallback(\r\n\t\t(e: TouchEvent) => {\r\n\t\t\tif (!isDragging.current || !contentRef.current) return;\r\n\t\t\tcurrentY.current = e.touches[0].clientY;\r\n\t\t\tconst deltaY = currentY.current - startY.current;\r\n\r\n\t\t\tif (deltaY > 0) {\r\n\t\t\t\t// Dragging down - apply transform\r\n\t\t\t\tcontentRef.current.style.transform = `translateY(${deltaY * 0.3}px)`;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[contentRef]\r\n\t);\r\n\r\n\tconst handleTouchEnd = useCallback(() => {\r\n\t\tif (!isDragging.current || !contentRef.current) return;\r\n\r\n\t\tconst deltaY = currentY.current - startY.current;\r\n\r\n\t\tif (deltaY > 100) {\r\n\t\t\t// Close if dragged down enough\r\n\t\t\tonClose();\r\n\t\t\t// Haptic feedback if available\r\n\t\t\tif (navigator.vibrate) {\r\n\t\t\t\tnavigator.vibrate(10);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Snap back\r\n\t\t\tcontentRef.current.style.transform = \"\";\r\n\t\t}\r\n\r\n\t\tisDragging.current = false;\r\n\t\tstartY.current = 0;\r\n\t\tcurrentY.current = 0;\r\n\t}, [contentRef, onClose]);\r\n\r\n\t// Attach touch listeners\r\n\tuseEffect(() => {\r\n\t\tconst content = contentRef.current;\r\n\t\tif (!content || !isMobile || !isOpen) return;\r\n\r\n\t\tcontent.addEventListener(\"touchstart\", handleTouchStart, { passive: true });\r\n\t\tcontent.addEventListener(\"touchmove\", handleTouchMove, { passive: true });\r\n\t\tcontent.addEventListener(\"touchend\", handleTouchEnd);\r\n\r\n\t\treturn () => {\r\n\t\t\tcontent.removeEventListener(\"touchstart\", handleTouchStart);\r\n\t\t\tcontent.removeEventListener(\"touchmove\", handleTouchMove);\r\n\t\t\tcontent.removeEventListener(\"touchend\", handleTouchEnd);\r\n\t\t};\r\n\t}, [contentRef, isMobile, isOpen, handleTouchStart, handleTouchMove, handleTouchEnd]);\r\n\r\n\treturn {\r\n\t\tisDragging: isDragging.current,\r\n\t};\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useState, useCallback, useRef } from \"react\";\r\n\r\n/**\r\n * History state structure for undo/redo functionality.\r\n */\r\nexport interface HistoryState<T> {\r\n\tpast: T[];\r\n\tpresent: T;\r\n\tfuture: T[];\r\n}\r\n\r\n/**\r\n * Return type for useHistory hook.\r\n */\r\nexport interface UseHistoryReturn<T> {\r\n\t/** Current state value */\r\n\tstate: T;\r\n\t/** Set a new state value (adds to history) */\r\n\tsetState: (value: T) => void;\r\n\t/** Undo to previous state */\r\n\tundo: () => void;\r\n\t/** Redo to next state */\r\n\tredo: () => void;\r\n\t/** Clear history while keeping current state */\r\n\tclear: () => void;\r\n\t/** Whether undo is available */\r\n\tcanUndo: boolean;\r\n\t/** Whether redo is available */\r\n\tcanRedo: boolean;\r\n}\r\n\r\n/**\r\n * Generic hook to manage undo/redo history for any value type.\r\n * Provides history management with configurable max history size.\r\n *\r\n * @param initialValue - The initial value for the history state\r\n * @param maxHistory - Maximum number of history entries to keep (default: 50)\r\n * @returns History management functions and current state\r\n *\r\n * @example\r\n * ```tsx\r\n * // For string values\r\n * const { state, setState, undo, redo, canUndo, canRedo } = useHistory(\"\", 100);\r\n * setState(\"new value\");\r\n * if (canUndo) undo();\r\n *\r\n * // For object values\r\n * const { state, setState, undo, redo } = useHistory({ count: 0 });\r\n * setState({ count: 1 });\r\n * ```\r\n */\r\nexport function useHistory<T>(initialValue: T, maxHistory = 50): UseHistoryReturn<T> {\r\n\tconst [history, setHistory] = useState<HistoryState<T>>({\r\n\t\tpast: [],\r\n\t\tpresent: initialValue,\r\n\t\tfuture: [],\r\n\t});\r\n\r\n\tconst isUndoRedoRef = useRef(false);\r\n\r\n\tconst setState = useCallback(\r\n\t\t(value: T) => {\r\n\t\t\tif (isUndoRedoRef.current) {\r\n\t\t\t\tisUndoRedoRef.current = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetHistory((prev) => ({\r\n\t\t\t\tpast: [...prev.past, prev.present].slice(-maxHistory),\r\n\t\t\t\tpresent: value,\r\n\t\t\t\tfuture: [],\r\n\t\t\t}));\r\n\t\t},\r\n\t\t[maxHistory]\r\n\t);\r\n\r\n\tconst undo = useCallback(() => {\r\n\t\tsetHistory((prev) => {\r\n\t\t\tif (prev.past.length === 0) return prev;\r\n\r\n\t\t\tconst newPast = [...prev.past];\r\n\t\t\tconst newPresent = newPast.pop()!;\r\n\r\n\t\t\tisUndoRedoRef.current = true;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tpast: newPast,\r\n\t\t\t\tpresent: newPresent,\r\n\t\t\t\tfuture: [prev.present, ...prev.future],\r\n\t\t\t};\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst redo = useCallback(() => {\r\n\t\tsetHistory((prev) => {\r\n\t\t\tif (prev.future.length === 0) return prev;\r\n\r\n\t\t\tconst newFuture = [...prev.future];\r\n\t\t\tconst newPresent = newFuture.shift()!;\r\n\r\n\t\t\tisUndoRedoRef.current = true;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tpast: [...prev.past, prev.present],\r\n\t\t\t\tpresent: newPresent,\r\n\t\t\t\tfuture: newFuture,\r\n\t\t\t};\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst clear = useCallback(() => {\r\n\t\tsetHistory({\r\n\t\t\tpast: [],\r\n\t\t\tpresent: history.present,\r\n\t\t\tfuture: [],\r\n\t\t});\r\n\t}, [history.present]);\r\n\r\n\treturn {\r\n\t\tstate: history.present,\r\n\t\tsetState,\r\n\t\tundo,\r\n\t\tredo,\r\n\t\tcanUndo: history.past.length > 0,\r\n\t\tcanRedo: history.future.length > 0,\r\n\t\tclear,\r\n\t};\r\n}\r\n\r\n","\"use client\";\nimport { STATUS_ICON_VARIANTS, ACTION_BUTTON_VARIANTS, RIPPLE_VARIANTS, PASTE_FLASH_VARIANTS } from \"./constants\";\nimport { m, AnimatePresence } from \"motion/react\";\nimport { type ReactNode, memo } from \"react\";\nimport { cn } from \"../../utils/functions\";\nimport type {\n\tIClearButtonProps,\n\tIActionButtonProps,\n\tICommonProgressProps,\n\tIHistoryButtonsProps,\n\tIValidationIconProps,\n\tICommonClipboardEvent,\n\tISuggestionsDropdownProps,\n\tIPasswordToggleButtonProps,\n\tIClipboardErrorMessageProps,\n} from \"./types\";\n\n/**\n * Full-screen flash effect for paste operations\n * @component\n * @param {Object} props - Component props\n * @param {boolean} props.show - Whether to show the flash effect\n * @returns {ReactNode} Animated flash overlay\n * @example\n * <PasteFlash show={isPasted} />\n */\nexport const PasteFlash = memo(function PasteFlash({ show }: { show: boolean }): ReactNode {\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{show && (\n\t\t\t\t<m.span\n\t\t\t\t\tclassName=\"absolute inset-0 bg-primary rounded-[inherit] pointer-events-none\"\n\t\t\t\t\tvariants={PASTE_FLASH_VARIANTS}\n\t\t\t\t\texit={{ opacity: 0 }}\n\t\t\t\t\tinitial=\"initial\"\n\t\t\t\t\tanimate=\"animate\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t);\n});\n\n/**\n * Loading spinner with optional progress indicator\n * @component\n * @param {Object} props - Component props\n * @param {number} [props.progress] - Optional progress value (0-100) for determinate loading\n * @param {string} props.iconSize - CSS class for spinner sizing\n * @returns {ReactNode} Animated loading indicator\n * @example\n * // Indeterminate spinner\n * <LoadingIndicator iconSize=\"w-5 h-5\" />\n *\n * // Determinate with progress\n * <LoadingIndicator progress={45} iconSize=\"w-5 h-5\" />\n */\nexport const LoadingIndicator = memo(function LoadingIndicator({ progress, iconSize }: { progress?: number; iconSize: string }): ReactNode {\n\tconst hasProgress = typeof progress === \"number\";\n\tconst clampedProgress = hasProgress ? Math.min(100, Math.max(0, progress)) : 0;\n\tconst radius = 10;\n\tconst circumference = 2 * Math.PI * radius;\n\tconst strokeDashoffset = circumference - (clampedProgress / 100) * circumference;\n\n\treturn (\n\t\t<m.span\n\t\t\tclassName=\"relative flex items-center justify-center\"\n\t\t\tinitial={{ opacity: 0, scale: 0.8 }}\n\t\t\tanimate={{ opacity: 1, scale: 1 }}\n\t\t\ttransition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n\t\t\trole=\"progressbar\"\n\t\t\taria-valuenow={hasProgress ? clampedProgress : undefined}\n\t\t\taria-valuemin={0}\n\t\t\taria-valuemax={100}\n\t\t\taria-label={hasProgress ? `Loading ${Math.round(clampedProgress)}%` : \"Loading\"}>\n\t\t\t{hasProgress ? (\n\t\t\t\t<svg className={cn(iconSize, \"text-primary -rotate-90\")} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r={radius} stroke=\"currentColor\" strokeOpacity=\"0.15\" strokeWidth=\"2.5\" />\n\t\t\t\t\t<m.circle\n\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\tr={radius}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstrokeWidth=\"2.5\"\n\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tanimate={{ strokeDashoffset }}\n\t\t\t\t\t\tstrokeDasharray={circumference}\n\t\t\t\t\t\tinitial={{ strokeDashoffset: circumference }}\n\t\t\t\t\t\ttransition={{ type: \"spring\", stiffness: 100, damping: 20 }}\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t) : (\n\t\t\t\t<m.svg\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\tanimate={{ rotate: 360 }}\n\t\t\t\t\tclassName={cn(iconSize, \"text-primary\")}\n\t\t\t\t\ttransition={{ repeat: Number.POSITIVE_INFINITY, duration: 1, ease: \"linear\" }}>\n\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeOpacity=\"0.15\" strokeWidth=\"2.5\" />\n\t\t\t\t\t<path d=\"M12 2C6.47715 2 2 6.47715 2 12\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" />\n\t\t\t\t</m.svg>\n\t\t\t)}\n\t\t\t{hasProgress && (\n\t\t\t\t<m.span\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tinitial={{ opacity: 0 }}\n\t\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\t\tkey={Math.round(clampedProgress)}\n\t\t\t\t\tclassName=\"absolute text-[8px] font-semibold text-primary tabular-nums\">\n\t\t\t\t\t{Math.round(clampedProgress)}\n\t\t\t\t</m.span>\n\t\t\t)}\n\t\t</m.span>\n\t);\n});\n\n/**\n * Icon representing validation state (success, warning, or error)\n * @component\n * @param {IValidationIconProps} props - Component props\n * @returns {ReactNode} Animated validation icon\n * @example\n * <ValidationIcon state=\"success\" iconSize=\"w-5 h-5\" />\n */\nexport const ValidationIcon = memo(function ValidationIcon({ state, iconSize }: IValidationIconProps): ReactNode {\n\tconst icons = {\n\t\tsuccess: (\n\t\t\t<svg className={cn(iconSize, \"text-green-500\")} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\n\t\t\t\t<path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t<path d=\"m9 11 3 3L22 4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t</svg>\n\t\t),\n\t\twarning: (\n\t\t\t<svg className={cn(iconSize, \"text-amber-500\")} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\n\t\t\t\t<path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t<path d=\"M12 9v4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t<path d=\"M12 17h.01\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t</svg>\n\t\t),\n\t\terror: (\n\t\t\t<svg className={cn(iconSize, \"text-red-500\")} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\n\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t\t\t<path d=\"m15 9-6 6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t<path d=\"m9 9 6 6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t</svg>\n\t\t),\n\t};\n\n\treturn (\n\t\t<m.span\n\t\t\texit=\"exit\"\n\t\t\tinitial=\"initial\"\n\t\t\tanimate=\"animate\"\n\t\t\tvariants={STATUS_ICON_VARIANTS}\n\t\t\taria-label={state === \"success\" ? \"Valid\" : state === \"error\" ? \"Invalid\" : \"Warning\"}>\n\t\t\t{icons[state]}\n\t\t</m.span>\n\t);\n});\n\n/**\n * Reusable animated button component with hover and tap effects\n * @component\n * @param {IActionButtonProps} props - Component props\n * @returns {ReactNode} Animated button element\n * @example\n * <ActionButton\n *   label=\"Copy\"\n *   iconSize=\"w-5 h-5\"\n *   onClick={() => navigator.clipboard.writeText(text)}\n * >\n *   <CopyIcon />\n * </ActionButton>\n */\nexport const ActionButton = memo(function ActionButton({\n\tlabel,\n\tonClick,\n\tdisabled,\n\ticonSize,\n\tchildren,\n\tisSuccess,\n}: IActionButtonProps): ReactNode {\n\treturn (\n\t\t<m.button\n\t\t\ttype=\"button\"\n\t\t\tonClick={onClick}\n\t\t\tdisabled={disabled}\n\t\t\tclassName={cn(\n\t\t\t\ticonSize,\n\t\t\t\t\"text-muted-foreground hover:text-foreground transition-colors rounded-sm\",\n\t\t\t\t\"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring/50\",\n\t\t\t\tdisabled && \"opacity-50 cursor-not-allowed\"\n\t\t\t)}\n\t\t\twhileHover={disabled ? undefined : \"hover\"}\n\t\t\tanimate={isSuccess ? \"success\" : \"initial\"}\n\t\t\twhileTap={disabled ? undefined : \"tap\"}\n\t\t\tvariants={ACTION_BUTTON_VARIANTS}\n\t\t\taria-label={label}\n\t\t\tinitial=\"initial\">\n\t\t\t{children}\n\t\t</m.button>\n\t);\n});\n\n/**\n * Progress bar for validation states with smooth animation\n * @component\n * @param {ICommonProgressProps} props - Component props\n * @returns {ReactNode} Animated progress bar\n * @example\n * <ValidationProgressBar progress={65} />\n */\nexport const ValidationProgressBar = memo(function ValidationProgressBar({ progress }: ICommonProgressProps): ReactNode {\n\tconst clampedProgress = Math.min(100, Math.max(0, progress));\n\treturn (\n\t\t<m.div\n\t\t\trole=\"progressbar\"\n\t\t\taria-valuemin={0}\n\t\t\taria-valuemax={100}\n\t\t\texit={{ opacity: 0 }}\n\t\t\tinitial={{ opacity: 0 }}\n\t\t\tanimate={{ opacity: 1 }}\n\t\t\taria-valuenow={clampedProgress}\n\t\t\tclassName=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary/10 overflow-hidden rounded-b-[inherit]\">\n\t\t\t<m.div\n\t\t\t\tinitial={{ width: 0 }}\n\t\t\t\tclassName=\"h-full bg-primary\"\n\t\t\t\tanimate={{ width: `${clampedProgress}%` }}\n\t\t\t\ttransition={{ type: \"spring\", stiffness: 100, damping: 20 }}\n\t\t\t/>\n\t\t</m.div>\n\t);\n});\n\n/**\n * Progress bar for loading states with determinate or indeterminate animation\n * @component\n * @param {ICommonProgressProps} props - Component props\n * @returns {ReactNode} Animated loading progress bar\n * @example\n * // Indeterminate\n * <LoadingProgressBar progress={undefined} />\n *\n * // Determinate\n * <LoadingProgressBar progress={45} />\n */\nexport const LoadingProgressBar = memo(function LoadingProgressBar({ progress }: ICommonProgressProps): ReactNode {\n\tconst hasProgress = typeof progress === \"number\";\n\tconst clampedProgress = hasProgress ? Math.min(100, Math.max(0, progress)) : 0;\n\n\tif (!hasProgress) {\n\t\treturn (\n\t\t\t<m.div\n\t\t\t\trole=\"progressbar\"\n\t\t\t\taria-label=\"Loading\"\n\t\t\t\texit={{ opacity: 0 }}\n\t\t\t\tinitial={{ opacity: 0 }}\n\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\tclassName=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary/10 overflow-hidden rounded-b-[inherit]\">\n\t\t\t\t<m.div\n\t\t\t\t\tanimate={{ x: [\"-100%\", \"400%\"] }}\n\t\t\t\t\tclassName=\"h-full w-1/3 bg-primary\"\n\t\t\t\t\ttransition={{ repeat: Number.POSITIVE_INFINITY, duration: 1.5, ease: \"easeInOut\" }}\n\t\t\t\t/>\n\t\t\t</m.div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<m.div\n\t\t\trole=\"progressbar\"\n\t\t\taria-valuemin={0}\n\t\t\taria-valuemax={100}\n\t\t\texit={{ opacity: 0 }}\n\t\t\tinitial={{ opacity: 0 }}\n\t\t\tanimate={{ opacity: 1 }}\n\t\t\taria-valuenow={clampedProgress}\n\t\t\tclassName=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary/10 overflow-hidden rounded-b-[inherit]\">\n\t\t\t<m.div\n\t\t\t\tclassName=\"h-full bg-primary\"\n\t\t\t\tinitial={{ width: 0 }}\n\t\t\t\tanimate={{ width: `${clampedProgress}%` }}\n\t\t\t\ttransition={{ type: \"spring\", stiffness: 100, damping: 20 }}\n\t\t\t/>\n\t\t</m.div>\n\t);\n});\n\n/**\n * Paired undo/redo buttons with disabled state handling\n * @component\n * @param {IHistoryButtonsProps} props - Component props\n * @returns {ReactNode} Button group with undo and redo controls\n * @example\n * <HistoryButtons\n *   canUndo={true}\n *   canRedo={false}\n *   onUndo={() => history.undo()}\n *   onRedo={() => history.redo()}\n *   iconSize=\"w-4 h-4\"\n * />\n */\nexport const HistoryButtons = memo(function HistoryButtons({ canUndo, canRedo, onUndo, onRedo, iconSize }: IHistoryButtonsProps): ReactNode {\n\treturn (\n\t\t<div className=\"flex items-center gap-0.5\" role=\"group\" aria-label=\"History controls\">\n\t\t\t<m.button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={onUndo}\n\t\t\t\tdisabled={!canUndo}\n\t\t\t\tclassName={cn(\n\t\t\t\t\ticonSize,\n\t\t\t\t\t\"text-muted-foreground hover:text-foreground transition-colors rounded-sm\",\n\t\t\t\t\t\"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring/50\",\n\t\t\t\t\t!canUndo && \"opacity-30 cursor-not-allowed hover:text-muted-foreground\"\n\t\t\t\t)}\n\t\t\t\tvariants={ACTION_BUTTON_VARIANTS}\n\t\t\t\tinitial=\"initial\"\n\t\t\t\twhileHover={canUndo ? \"hover\" : undefined}\n\t\t\t\twhileTap={canUndo ? \"tap\" : undefined}\n\t\t\t\taria-label=\"Undo\">\n\t\t\t\t<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"w-full h-full\" aria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M3 7v6h6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t\t<path d=\"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t</svg>\n\t\t\t</m.button>\n\t\t\t<m.button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={onRedo}\n\t\t\t\tdisabled={!canRedo}\n\t\t\t\tclassName={cn(\n\t\t\t\t\ticonSize,\n\t\t\t\t\t\"text-muted-foreground hover:text-foreground transition-colors rounded-sm\",\n\t\t\t\t\t\"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring/50\",\n\t\t\t\t\t!canRedo && \"opacity-30 cursor-not-allowed hover:text-muted-foreground\"\n\t\t\t\t)}\n\t\t\t\twhileHover={canRedo ? \"hover\" : undefined}\n\t\t\t\twhileTap={canRedo ? \"tap\" : undefined}\n\t\t\t\tvariants={ACTION_BUTTON_VARIANTS}\n\t\t\t\tinitial=\"initial\"\n\t\t\t\taria-label=\"Redo\">\n\t\t\t\t<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"w-full h-full\" aria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M21 7v6h-6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t\t<path d=\"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t</svg>\n\t\t\t</m.button>\n\t\t</div>\n\t);\n});\n\n/**\n * Button to clear input field content\n * @component\n * @param {IClearButtonProps} props - Component props\n * @returns {ReactNode} Clear button with X icon\n * @example\n * <ClearButton onClick={() => setValue(\"\")} iconSize=\"w-4 h-4\" />\n */\nexport const ClearButton = memo(function ClearButton({ onClick, iconSize }: IClearButtonProps): ReactNode {\n\treturn (\n\t\t<ActionButton onClick={onClick} label=\"Clear\" iconSize={iconSize}>\n\t\t\t<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"w-full h-full\" aria-hidden=\"true\">\n\t\t\t\t<path d=\"M18 6L6 18M6 6l12 12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t</svg>\n\t\t</ActionButton>\n\t);\n});\n\n/**\n * Button to copy content to clipboard with success state animation\n * @component\n * @param {ICommonClipboardEvent & { copied: boolean }} props - Component props\n * @param {() => void} props.onClick - Click handler for copy action\n * @param {string} props.iconSize - CSS class for icon sizing\n * @param {boolean} props.copied - Whether content has been successfully copied\n * @returns {ReactNode} Copy button with icon transition\n * @example\n * <CopyButton\n *   copied={isCopied}\n *   onClick={() => handleCopy()}\n *   iconSize=\"w-4 h-4\"\n * />\n */\nexport const CopyButton = memo(function CopyButton({ onClick, iconSize, copied }: ICommonClipboardEvent & { copied: boolean }): ReactNode {\n\treturn (\n\t\t<ActionButton onClick={onClick} label=\"Copy\" iconSize={iconSize} isSuccess={copied}>\n\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t{copied ? (\n\t\t\t\t\t<m.svg\n\t\t\t\t\t\tkey=\"check\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\tclassName=\"w-full h-full text-green-500\"\n\t\t\t\t\t\tinitial={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tanimate={{ scale: 1, opacity: 1 }}\n\t\t\t\t\t\texit={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t\t<path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t\t</m.svg>\n\t\t\t\t) : (\n\t\t\t\t\t<m.svg\n\t\t\t\t\t\tkey=\"copy\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\t\tinitial={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tanimate={{ scale: 1, opacity: 1 }}\n\t\t\t\t\t\texit={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t\t<rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\" />\n\t\t\t\t\t\t<path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\" />\n\t\t\t\t\t</m.svg>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t</ActionButton>\n\t);\n});\n\n/**\n * Button to paste content from clipboard with success state animation\n * @component\n * @param {ICommonClipboardEvent & { pasted: boolean }} props - Component props\n * @param {() => void} props.onClick - Click handler for paste action\n * @param {string} props.iconSize - CSS class for icon sizing\n * @param {boolean} props.pasted - Whether content has been successfully pasted\n * @returns {ReactNode} Paste button with icon transition\n * @example\n * <PasteButton\n *   pasted={isPasted}\n *   onClick={() => handlePaste()}\n *   iconSize=\"w-4 h-4\"\n * />\n */\nexport const PasteButton = memo(function PasteButton({ onClick, iconSize, pasted }: ICommonClipboardEvent & { pasted: boolean }): ReactNode {\n\treturn (\n\t\t<ActionButton onClick={onClick} label=\"Paste\" iconSize={iconSize} isSuccess={pasted}>\n\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t{pasted ? (\n\t\t\t\t\t<m.svg\n\t\t\t\t\t\tkey=\"check\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\texit={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tanimate={{ scale: 1, opacity: 1 }}\n\t\t\t\t\t\tinitial={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tclassName=\"w-full h-full text-green-500\">\n\t\t\t\t\t\t<path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t\t</m.svg>\n\t\t\t\t) : (\n\t\t\t\t\t<m.svg\n\t\t\t\t\t\tkey=\"paste\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\t\texit={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tinitial={{ scale: 0, opacity: 0 }}\n\t\t\t\t\t\tanimate={{ scale: 1, opacity: 1 }}>\n\t\t\t\t\t\t<path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\" />\n\t\t\t\t\t\t<rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\" />\n\t\t\t\t\t</m.svg>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t</ActionButton>\n\t);\n});\n\n/**\n * Toggle button to show/hide password visibility\n * @component\n * @param {IPasswordToggleButtonProps} props - Component props\n * @returns {ReactNode} Toggle button with eye/eye-off icon\n * @example\n * <PasswordToggleButton\n *   showPassword={isVisible}\n *   onClick={() => setIsVisible(!isVisible)}\n *   iconSize=\"w-4 h-4\"\n * />\n */\nexport const PasswordToggleButton = memo(function PasswordToggleButton({\n\tonClick,\n\ticonSize,\n\tshowPassword,\n}: IPasswordToggleButtonProps): ReactNode {\n\treturn (\n\t\t<ActionButton onClick={onClick} label={showPassword ? \"Hide password\" : \"Show password\"} iconSize={iconSize}>\n\t\t\t{showPassword ? (\n\t\t\t\t<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"w-full h-full\" aria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" />\n\t\t\t\t\t<line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" />\n\t\t\t\t</svg>\n\t\t\t) : (\n\t\t\t\t<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"w-full h-full\" aria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\n\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"3\" />\n\t\t\t\t</svg>\n\t\t\t)}\n\t\t</ActionButton>\n\t);\n});\n\n/**\n * Error message banner for clipboard operation failures with dismiss button\n * @component\n * @param {IClipboardErrorMessageProps} props - Component props\n * @returns {ReactNode} Animated error alert with dismiss action\n * @example\n * <ClipboardErrorMessage\n *   message=\"Failed to copy to clipboard\"\n *   onDismiss={() => setError(null)}\n * />\n */\nexport const ClipboardErrorMessage = memo(function ClipboardErrorMessage({ message, onDismiss }: IClipboardErrorMessageProps): ReactNode {\n\treturn (\n\t\t<m.div\n\t\t\tclassName=\"flex items-center justify-between gap-2 mt-1.5 px-2 py-1.5 bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-md\"\n\t\t\tinitial={{ opacity: 0, y: -4, height: 0 }}\n\t\t\tanimate={{ opacity: 1, y: 0, height: \"auto\" }}\n\t\t\texit={{ opacity: 0, y: -4, height: 0 }}\n\t\t\ttransition={{ duration: 0.2 }}\n\t\t\trole=\"alert\">\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<svg className=\"w-4 h-4 text-red-500 shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\n\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t\t\t\t<path d=\"M12 8v4\" strokeLinecap=\"round\" />\n\t\t\t\t\t<path d=\"M12 16h.01\" strokeLinecap=\"round\" />\n\t\t\t\t</svg>\n\t\t\t\t<span className=\"text-xs text-red-600 dark:text-red-400\">{message}</span>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={onDismiss}\n\t\t\t\tclassName=\"p-0.5 text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50\"\n\t\t\t\taria-label=\"Dismiss error\">\n\t\t\t\t<svg className=\"w-3.5 h-3.5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n\t\t\t\t\t<path d=\"M18 6L6 18M6 6l12 12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</m.div>\n\t);\n});\n","// Main component export\r\nexport { default as Input } from \"./components/Input/index\";\r\n\r\n// Type exports\r\nexport type {\r\n\tInputSize,\r\n\tSuggestion,\r\n\tFormatType,\r\n\tInputShadow,\r\n\tPhoneFormat,\r\n\tInputRadius,\r\n\tInputVariant,\r\n\tLabelPosition,\r\n\tAnimatedInputProps,\r\n\tPasswordRequirement,\r\n} from \"./components/Input/types\";\r\n\r\n// Error boundary export (optional)\r\nexport { AnimatedInputErrorBoundary, withErrorBoundary } from \"./components/Input/error-boundary\";\r\n\r\n// Utility exports (optional - if users want them)\r\nexport { formatDate, formatPhone, formatCurrency, detectAndFormat, formatCreditCard, calculatePasswordStrength } from \"./components/Input/utils\";\r\n\r\nexport { cn } from \"./utils/functions\";\r\nexport { useHistory, useTimeoutManager } from \"./utils/hooks\";\r\n"],"mappings":"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","names":["memo","m","jsx","memo","m","jsx","memo","m","jsx","memo","m","jsx","memo","m","jsx","m","AnimatePresence","memo","jsx","jsxs","AnimatePresence","m","memo","jsx","memo","m","jsxs","memo","m","jsx","jsxs","memo","m","jsx","jsxs","memo","m","jsx","jsxs","useRef","useCallback","useEffect","memo","m","useRef","useCallback","useEffect","useEffect","useRef","useCallback","useState","useCallback","useRef","jsx","jsxs","PasteFlash","LoadingIndicator","ValidationIcon","ActionButton","ValidationProgressBar","LoadingProgressBar","HistoryButtons","ClearButton","CopyButton","PasteButton","PasswordToggleButton","ClipboardErrorMessage","Fragment","jsx","jsxs","InsideLabel","StackedLabel","OutsideLabel","OutsideTopLabel","OutsideLeftLabel","LeftAnimatedLabel","RippleContainer","CharacterCounter","RequirementsList","SuggestionsDropdown","PasswordStrengthMeter","useRef","useCallback","useEffect","error","m","memo"]}